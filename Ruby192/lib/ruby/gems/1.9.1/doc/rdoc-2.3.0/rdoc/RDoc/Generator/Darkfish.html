<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: RDoc::Generator::Darkfish</title>

	<link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

	<script src="../../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../../lib/rdoc/generator/darkfish_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/rdoc/generator/darkfish.rb">lib/rdoc/generator/darkfish.rb</a></li>
					
					</ul>
				</div>
			</div>

			
			<div id="file-svninfo-section" class="section">
				<h3 class="section-header">Subversion Info</h3>
				<div class="section-body">
					<dl class="svninfo">
						<dt>Rev</dt>
						<dd>52</dd>

						<dt>Last Checked In</dt>
						<dd>2009-01-07 02:08:11
							(2 years ago)</dd>

						<dt>Checked in by</dt>
						<dd>deveiant</dd>
					</dl>
				</div>
			</div>
			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link"><a href="XML.html">RDoc::Generator::XML</a></p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-for">::for</a></li>
					
					<li><a href="#method-c-new">::new</a></li>
					
					<li><a href="#method-i-debug_msg">#debug_msg</a></li>
					
					<li><a href="#method-i-gen_sub_directories">#gen_sub_directories</a></li>
					
					<li><a href="#method-i-generate">#generate</a></li>
					
					<li><a href="#method-i-generate_class_files">#generate_class_files</a></li>
					
					<li><a href="#method-i-generate_file_files">#generate_file_files</a></li>
					
					<li><a href="#method-i-generate_index">#generate_index</a></li>
					
					<li><a href="#method-i-generate_xhtml">#generate_xhtml</a></li>
					
					<li><a href="#method-i-get_sorted_module_list">#get_sorted_module_list</a></li>
					
					<li><a href="#method-i-get_svninfo">#get_svninfo</a></li>
					
					<li><a href="#method-i-render_template">#render_template</a></li>
					
					<li><a href="#method-i-time_delta_string">#time_delta_string</a></li>
					
					<li><a href="#method-i-write_style_sheet">#write_style_sheet</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><span class="include">ERB::Util</span></li>
				
				
				</ul>
			</div>
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../../History_txt.html">History.txt</a></li>
				
					<li class="file"><a href="../../Manifest_txt.html">Manifest.txt</a></li>
				
					<li class="file"><a href="../../README_txt.html">README.txt</a></li>
				
					<li class="file"><a href="../../RI_txt.html">RI.txt</a></li>
				
					<li class="file"><a href="../../test/test_ja_txt.html">test.ja.txt</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../../RDoc.html">RDoc</a></li>
				
					<li><a href="../../RDoc/Alias.html">RDoc::Alias</a></li>
				
					<li><a href="../../RDoc/AnonClass.html">RDoc::AnonClass</a></li>
				
					<li><a href="../../RDoc/AnyMethod.html">RDoc::AnyMethod</a></li>
				
					<li><a href="../../RDoc/Attr.html">RDoc::Attr</a></li>
				
					<li><a href="../../RDoc/Cache.html">RDoc::Cache</a></li>
				
					<li><a href="../../RDoc/ClassModule.html">RDoc::ClassModule</a></li>
				
					<li><a href="../../RDoc/CodeObject.html">RDoc::CodeObject</a></li>
				
					<li><a href="../../RDoc/Constant.html">RDoc::Constant</a></li>
				
					<li><a href="../../RDoc/Context.html">RDoc::Context</a></li>
				
					<li><a href="../../RDoc/Context/Section.html">RDoc::Context::Section</a></li>
				
					<li><a href="../../RDoc/DOT.html">RDoc::DOT</a></li>
				
					<li><a href="../../RDoc/DOT/Digraph.html">RDoc::DOT::Digraph</a></li>
				
					<li><a href="../../RDoc/DOT/Edge.html">RDoc::DOT::Edge</a></li>
				
					<li><a href="../../RDoc/DOT/Element.html">RDoc::DOT::Element</a></li>
				
					<li><a href="../../RDoc/DOT/Node.html">RDoc::DOT::Node</a></li>
				
					<li><a href="../../RDoc/DOT/Port.html">RDoc::DOT::Port</a></li>
				
					<li><a href="../../RDoc/DOT/SimpleElement.html">RDoc::DOT::SimpleElement</a></li>
				
					<li><a href="../../RDoc/DOT/Subgraph.html">RDoc::DOT::Subgraph</a></li>
				
					<li><a href="../../RDoc/Diagram.html">RDoc::Diagram</a></li>
				
					<li><a href="../../RDoc/Error.html">RDoc::Error</a></li>
				
					<li><a href="../../RDoc/Generator.html">RDoc::Generator</a></li>
				
					<li><a href="../../RDoc/Generator/AllReferences.html">RDoc::Generator::AllReferences</a></li>
				
					<li><a href="../../RDoc/Generator/Class.html">RDoc::Generator::Class</a></li>
				
					<li><a href="../../RDoc/Generator/Context.html">RDoc::Generator::Context</a></li>
				
					<li><a href="../../RDoc/Generator/Darkfish.html">RDoc::Generator::Darkfish</a></li>
				
					<li><a href="../../RDoc/Generator/File.html">RDoc::Generator::File</a></li>
				
					<li><a href="../../RDoc/Generator/HTML.html">RDoc::Generator::HTML</a></li>
				
					<li><a href="../../RDoc/Generator/HTML/Common.html">RDoc::Generator::HTML::Common</a></li>
				
					<li><a href="../../RDoc/Generator/HTML/HTML.html">RDoc::Generator::HTML::HTML</a></li>
				
					<li><a href="../../RDoc/Generator/HTMLInOne.html">RDoc::Generator::HTMLInOne</a></li>
				
					<li><a href="../../RDoc/Generator/MarkUp.html">RDoc::Generator::MarkUp</a></li>
				
					<li><a href="../../RDoc/Generator/Method.html">RDoc::Generator::Method</a></li>
				
					<li><a href="../../RDoc/Generator/RI.html">RDoc::Generator::RI</a></li>
				
					<li><a href="../../RDoc/Generator/XML.html">RDoc::Generator::XML</a></li>
				
					<li><a href="../../RDoc/GhostMethod.html">RDoc::GhostMethod</a></li>
				
					<li><a href="../../RDoc/Include.html">RDoc::Include</a></li>
				
					<li><a href="../../RDoc/Markup.html">RDoc::Markup</a></li>
				
					<li><a href="../../RDoc/Markup/AttrChanger.html">RDoc::Markup::AttrChanger</a></li>
				
					<li><a href="../../RDoc/Markup/AttrSpan.html">RDoc::Markup::AttrSpan</a></li>
				
					<li><a href="../../RDoc/Markup/Attribute.html">RDoc::Markup::Attribute</a></li>
				
					<li><a href="../../RDoc/Markup/AttributeManager.html">RDoc::Markup::AttributeManager</a></li>
				
					<li><a href="../../RDoc/Markup/BlankLine.html">RDoc::Markup::BlankLine</a></li>
				
					<li><a href="../../RDoc/Markup/Flow.html">RDoc::Markup::Flow</a></li>
				
					<li><a href="../../RDoc/Markup/Flow/LIST.html">RDoc::Markup::Flow::LIST</a></li>
				
					<li><a href="../../RDoc/Markup/Formatter.html">RDoc::Markup::Formatter</a></li>
				
					<li><a href="../../RDoc/Markup/Fragment.html">RDoc::Markup::Fragment</a></li>
				
					<li><a href="../../RDoc/Markup/Heading.html">RDoc::Markup::Heading</a></li>
				
					<li><a href="../../RDoc/Markup/Line.html">RDoc::Markup::Line</a></li>
				
					<li><a href="../../RDoc/Markup/LineCollection.html">RDoc::Markup::LineCollection</a></li>
				
					<li><a href="../../RDoc/Markup/Lines.html">RDoc::Markup::Lines</a></li>
				
					<li><a href="../../RDoc/Markup/ListBase.html">RDoc::Markup::ListBase</a></li>
				
					<li><a href="../../RDoc/Markup/ListEnd.html">RDoc::Markup::ListEnd</a></li>
				
					<li><a href="../../RDoc/Markup/ListItem.html">RDoc::Markup::ListItem</a></li>
				
					<li><a href="../../RDoc/Markup/ListStart.html">RDoc::Markup::ListStart</a></li>
				
					<li><a href="../../RDoc/Markup/Paragraph.html">RDoc::Markup::Paragraph</a></li>
				
					<li><a href="../../RDoc/Markup/PreProcess.html">RDoc::Markup::PreProcess</a></li>
				
					<li><a href="../../RDoc/Markup/Rule.html">RDoc::Markup::Rule</a></li>
				
					<li><a href="../../RDoc/Markup/Special.html">RDoc::Markup::Special</a></li>
				
					<li><a href="../../RDoc/Markup/ToFlow.html">RDoc::Markup::ToFlow</a></li>
				
					<li><a href="../../RDoc/Markup/ToHtml.html">RDoc::Markup::ToHtml</a></li>
				
					<li><a href="../../RDoc/Markup/ToHtmlCrossref.html">RDoc::Markup::ToHtmlCrossref</a></li>
				
					<li><a href="../../RDoc/Markup/ToLaTeX.html">RDoc::Markup::ToLaTeX</a></li>
				
					<li><a href="../../RDoc/Markup/ToTest.html">RDoc::Markup::ToTest</a></li>
				
					<li><a href="../../RDoc/Markup/ToTexInfo.html">RDoc::Markup::ToTexInfo</a></li>
				
					<li><a href="../../RDoc/Markup/Verbatim.html">RDoc::Markup::Verbatim</a></li>
				
					<li><a href="../../RDoc/MetaMethod.html">RDoc::MetaMethod</a></li>
				
					<li><a href="../../RDoc/NormalClass.html">RDoc::NormalClass</a></li>
				
					<li><a href="../../RDoc/NormalModule.html">RDoc::NormalModule</a></li>
				
					<li><a href="../../RDoc/Options.html">RDoc::Options</a></li>
				
					<li><a href="../../RDoc/Parser.html">RDoc::Parser</a></li>
				
					<li><a href="../../RDoc/Parser/C.html">RDoc::Parser::C</a></li>
				
					<li><a href="../../RDoc/Parser/F95.html">RDoc::Parser::F95</a></li>
				
					<li><a href="../../RDoc/Parser/F95/Fortran95Definition.html">RDoc::Parser::F95::Fortran95Definition</a></li>
				
					<li><a href="../../RDoc/Parser/F95/Token.html">RDoc::Parser::F95::Token</a></li>
				
					<li><a href="../../RDoc/Parser/PerlPOD.html">RDoc::Parser::PerlPOD</a></li>
				
					<li><a href="../../RDoc/Parser/Ruby.html">RDoc::Parser::Ruby</a></li>
				
					<li><a href="../../RDoc/Parser/Simple.html">RDoc::Parser::Simple</a></li>
				
					<li><a href="../../RDoc/RDoc.html">RDoc::RDoc</a></li>
				
					<li><a href="../../RDoc/RI.html">RDoc::RI</a></li>
				
					<li><a href="../../RDoc/RI/AliasName.html">RDoc::RI::AliasName</a></li>
				
					<li><a href="../../RDoc/RI/AnsiFormatter.html">RDoc::RI::AnsiFormatter</a></li>
				
					<li><a href="../../RDoc/RI/Attribute.html">RDoc::RI::Attribute</a></li>
				
					<li><a href="../../RDoc/RI/AttributeFormatter.html">RDoc::RI::AttributeFormatter</a></li>
				
					<li><a href="../../RDoc/RI/AttributeFormatter/AttributeString.html">RDoc::RI::AttributeFormatter::AttributeString</a></li>
				
					<li><a href="../../RDoc/RI/Cache.html">RDoc::RI::Cache</a></li>
				
					<li><a href="../../RDoc/RI/ClassDescription.html">RDoc::RI::ClassDescription</a></li>
				
					<li><a href="../../RDoc/RI/ClassEntry.html">RDoc::RI::ClassEntry</a></li>
				
					<li><a href="../../RDoc/RI/Constant.html">RDoc::RI::Constant</a></li>
				
					<li><a href="../../RDoc/RI/DefaultDisplay.html">RDoc::RI::DefaultDisplay</a></li>
				
					<li><a href="../../RDoc/RI/Description.html">RDoc::RI::Description</a></li>
				
					<li><a href="../../RDoc/RI/Display.html">RDoc::RI::Display</a></li>
				
					<li><a href="../../RDoc/RI/Driver.html">RDoc::RI::Driver</a></li>
				
					<li><a href="../../RDoc/RI/Driver/Error.html">RDoc::RI::Driver::Error</a></li>
				
					<li><a href="../../RDoc/RI/Driver/NotFoundError.html">RDoc::RI::Driver::NotFoundError</a></li>
				
					<li><a href="../../RDoc/RI/Driver/OpenStructHash.html">RDoc::RI::Driver::OpenStructHash</a></li>
				
					<li><a href="../../RDoc/RI/Error.html">RDoc::RI::Error</a></li>
				
					<li><a href="../../RDoc/RI/Formatter.html">RDoc::RI::Formatter</a></li>
				
					<li><a href="../../RDoc/RI/HtmlFormatter.html">RDoc::RI::HtmlFormatter</a></li>
				
					<li><a href="../../RDoc/RI/IncludedModule.html">RDoc::RI::IncludedModule</a></li>
				
					<li><a href="../../RDoc/RI/MethodDescription.html">RDoc::RI::MethodDescription</a></li>
				
					<li><a href="../../RDoc/RI/MethodEntry.html">RDoc::RI::MethodEntry</a></li>
				
					<li><a href="../../RDoc/RI/MethodSummary.html">RDoc::RI::MethodSummary</a></li>
				
					<li><a href="../../RDoc/RI/ModuleDescription.html">RDoc::RI::ModuleDescription</a></li>
				
					<li><a href="../../RDoc/RI/NameDescriptor.html">RDoc::RI::NameDescriptor</a></li>
				
					<li><a href="../../RDoc/RI/NamedThing.html">RDoc::RI::NamedThing</a></li>
				
					<li><a href="../../RDoc/RI/OverstrikeFormatter.html">RDoc::RI::OverstrikeFormatter</a></li>
				
					<li><a href="../../RDoc/RI/Reader.html">RDoc::RI::Reader</a></li>
				
					<li><a href="../../RDoc/RI/SimpleFormatter.html">RDoc::RI::SimpleFormatter</a></li>
				
					<li><a href="../../RDoc/RI/TopLevelEntry.html">RDoc::RI::TopLevelEntry</a></li>
				
					<li><a href="../../RDoc/RI/Writer.html">RDoc::RI::Writer</a></li>
				
					<li><a href="../../RDoc/Require.html">RDoc::Require</a></li>
				
					<li><a href="../../RDoc/RubyLex.html">RDoc::RubyLex</a></li>
				
					<li><a href="../../RDoc/RubyLex/BufferedReader.html">RDoc::RubyLex::BufferedReader</a></li>
				
					<li><a href="../../RDoc/RubyToken.html">RDoc::RubyToken</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkError.html">RDoc::RubyToken::TkError</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkId.html">RDoc::RubyToken::TkId</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkKW.html">RDoc::RubyToken::TkKW</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkNode.html">RDoc::RubyToken::TkNode</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkOPASGN.html">RDoc::RubyToken::TkOPASGN</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkOp.html">RDoc::RubyToken::TkOp</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkUnknownChar.html">RDoc::RubyToken::TkUnknownChar</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkVal.html">RDoc::RubyToken::TkVal</a></li>
				
					<li><a href="../../RDoc/RubyToken/Token.html">RDoc::RubyToken::Token</a></li>
				
					<li><a href="../../RDoc/SingleClass.html">RDoc::SingleClass</a></li>
				
					<li><a href="../../RDoc/Stats.html">RDoc::Stats</a></li>
				
					<li><a href="../../RDoc/Stats/Normal.html">RDoc::Stats::Normal</a></li>
				
					<li><a href="../../RDoc/Stats/Quiet.html">RDoc::Stats::Quiet</a></li>
				
					<li><a href="../../RDoc/Stats/Verbose.html">RDoc::Stats::Verbose</a></li>
				
					<li><a href="../../RDoc/TokenStream.html">RDoc::TokenStream</a></li>
				
					<li><a href="../../RDoc/TopLevel.html">RDoc::TopLevel</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">RDoc::Generator::Darkfish</h1>

		<div id="description">
			<p>
<a href="Darkfish.html">Darkfish</a> <a href="../RDoc.html">RDoc</a> <a
href="HTML.html">HTML</a> <a href="../Generator.html">Generator</a>
</p>
<p>
$Id: darkfish.rb 52 2009-01-07 02:08:11Z deveiant $
</p>
<h2>Author/s</h2>
<ul>
<li><p>
Michael Granger (ged@FaerieMUD.org)
</p>
</li>
</ul>
<h2>Contributors</h2>
<ul>
<li><p>
Mahlon E. Smith (mahlon@martini.nu)
</p>
</li>
<li><p>
Eric Hodel (drbrain@segment7.net)
</p>
</li>
</ul>
<h2>License</h2>
<p>
Copyright &#169; 2007, 2008, Michael Granger. All rights reserved.
</p>
<p>
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
</p>
<ul>
<li><p>
Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.
</p>
</li>
<li><p>
Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.
</p>
</li>
<li><p>
Neither the name of the author/s, nor the names of the project&#8217;s
contributors may be used to endorse or promote products derived from this
software without specific prior written permission.
</p>
</li>
</ul>
<p>
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&#8220;AS IS&#8221; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT
NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</p>

		</div>

		<!-- Constants -->
		
		<div id="constants-list" class="section">
			<h3 class="section-header">Constants</h3>
			<dl>
			
				<dt><a name="SVNRev">SVNRev</a></dt>
				
				<dd class="description"><p>
Subversion rev
</p></dd>
				
			
				<dt><a name="SVNId">SVNId</a></dt>
				
				<dd class="description"><p>
Subversion ID
</p></dd>
				
			
				<dt><a name="GENERATOR_DIR">GENERATOR_DIR</a></dt>
				
				<dd class="description"><p>
Path to this file&#8217;s parent directory. Used to find templates and
other resources.
</p></dd>
				
			
				<dt><a name="VERSION">VERSION</a></dt>
				
				<dd class="description"><p>
Release Version
</p></dd>
				
			
				<dt><a name="CLASS_DIR">CLASS_DIR</a></dt>
				
				<dd class="description"><p>
Directory where generated classes live relative to the root
</p></dd>
				
			
				<dt><a name="FILE_DIR">FILE_DIR</a></dt>
				
				<dd class="description"><p>
Directory where generated files live relative to the root
</p></dd>
				
			
				<dt><a name="SVNID_PATTERN">SVNID_PATTERN</a></dt>
				
				<dd class="description"><p>
%q$Id: darkfish.rb 52 2009-01-07 02:08:11Z deveiant $&#8220;
</p></dd>
				
			
			</dl>
		</div>
		

		<!-- Attributes -->
		
		<div id="attribute-method-details" class="method-section section">
			<h3 class="section-header">Attributes</h3>

			
			<div id="outputdir-attribute-method" class="method-detail">
				<a name="outputdir"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">outputdir</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p>
The output directory
</p>
				
				</div>
			</div>
			
		</div>
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="for-method" class="method-detail ">
				<a name="method-c-for"></a>

				<div class="method-heading">
				
					<span class="method-name">for</span><span
						class="method-args">( options )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Standard generator factory method
</p>
					

					
					<div class="method-source-code"
						id="for-source">
<pre>
    <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 88</span>
88:         <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-keyword kw">for</span>( <span class="ruby-identifier">options</span> )
89:                 <span class="ruby-identifier">new</span>( <span class="ruby-identifier">options</span> )
90:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">( options )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Initialize a few instance variables before we start
</p>
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 98</span>
 98:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">options</span> )
 99:                 <span class="ruby-ivar">@template</span> = <span class="ruby-keyword kw">nil</span>
100:                 <span class="ruby-ivar">@template_dir</span> = <span class="ruby-constant">GENERATOR_DIR</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'template/darkfish'</span>
101:                 
102:                 <span class="ruby-ivar">@files</span>      = []
103:                 <span class="ruby-ivar">@classes</span>    = []
104:                 <span class="ruby-ivar">@hyperlinks</span> = {}
105: 
106:                 <span class="ruby-ivar">@basedir</span> = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">pwd</span>.<span class="ruby-identifier">expand_path</span>
107: 
108:                 <span class="ruby-identifier">options</span>.<span class="ruby-identifier">inline_source</span> = <span class="ruby-keyword kw">true</span>
109:                 <span class="ruby-identifier">options</span>.<span class="ruby-identifier">diagram</span> = <span class="ruby-keyword kw">false</span>
110: 
111:                 <span class="ruby-keyword kw">super</span>
112:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="debug-msg-method" class="method-detail ">
				<a name="method-i-debug_msg"></a>

				<div class="method-heading">
				
					<span class="method-name">debug_msg</span><span
						class="method-args">( *msg )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Output progress information if debugging is enabled
</p>
					

					
					<div class="method-source-code"
						id="debug-msg-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 124</span>
124:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">debug_msg</span>( *<span class="ruby-identifier">msg</span> )
125:                 <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">$DEBUG</span>
126:                 <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span>( *<span class="ruby-identifier">msg</span> )
127:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="gen-sub-directories-method" class="method-detail ">
				<a name="method-i-gen_sub_directories"></a>

				<div class="method-heading">
				
					<span class="method-name">gen_sub_directories</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Create the directories the generated docs will live in if they don&#8217;t
already exist.
</p>
					

					
					<div class="method-source-code"
						id="gen-sub-directories-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 132</span>
132:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_sub_directories</span>
133:                 <span class="ruby-ivar">@outputdir</span>.<span class="ruby-identifier">mkpath</span>
134:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="generate-method" class="method-detail ">
				<a name="method-i-generate"></a>

				<div class="method-heading">
				
					<span class="method-name">generate</span><span
						class="method-args">( toplevels )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Build the initial indices and output objects based on an array of <a
href="../TopLevel.html">TopLevel</a> objects containing the extracted
information. 
</p>
					

					
					<div class="method-source-code"
						id="generate-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 152</span>
152:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate</span>( <span class="ruby-identifier">toplevels</span> )
153:                 <span class="ruby-ivar">@outputdir</span> = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>( <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">op_dir</span> ).<span class="ruby-identifier">expand_path</span>( <span class="ruby-ivar">@basedir</span> )
154:                 <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Generator</span><span class="ruby-operator">::</span><span class="ruby-constant">Context</span>.<span class="ruby-identifier">respond_to?</span>( <span class="ruby-value">:build_indicies</span>)
155:                <span class="ruby-ivar">@files</span>, <span class="ruby-ivar">@classes</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Generator</span><span class="ruby-operator">::</span><span class="ruby-constant">Context</span>.<span class="ruby-identifier">build_indicies</span>( <span class="ruby-identifier">toplevels</span>, <span class="ruby-ivar">@options</span> )
156:                 <span class="ruby-keyword kw">else</span>
157:                <span class="ruby-ivar">@files</span>, <span class="ruby-ivar">@classes</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Generator</span><span class="ruby-operator">::</span><span class="ruby-constant">Context</span>.<span class="ruby-identifier">build_indices</span>( <span class="ruby-identifier">toplevels</span>, <span class="ruby-ivar">@options</span> )
158:                 <span class="ruby-keyword kw">end</span>
159: 
160:                 <span class="ruby-comment cmt"># Now actually write the output</span>
161:                 <span class="ruby-identifier">generate_xhtml</span>( <span class="ruby-ivar">@options</span>, <span class="ruby-ivar">@files</span>, <span class="ruby-ivar">@classes</span> )
162: 
163:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">StandardError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span>
164:                 <span class="ruby-identifier">debug_msg</span> <span class="ruby-value str">&quot;%s: %s\n  %s&quot;</span> <span class="ruby-operator">%</span> [ <span class="ruby-identifier">err</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">err</span>.<span class="ruby-identifier">message</span>, <span class="ruby-identifier">err</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n  &quot;</span>) ]
165:                 <span class="ruby-identifier">raise</span>
166:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="generate-xhtml-method" class="method-detail ">
				<a name="method-i-generate_xhtml"></a>

				<div class="method-heading">
				
					<span class="method-name">generate_xhtml</span><span
						class="method-args">( options, files, classes )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Generate output
</p>
					

					
					<div class="method-source-code"
						id="generate-xhtml-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 175</span>
175:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_xhtml</span>( <span class="ruby-identifier">options</span>, <span class="ruby-identifier">files</span>, <span class="ruby-identifier">classes</span> )
176:                 <span class="ruby-identifier">files</span> = <span class="ruby-identifier">gen_into</span>( <span class="ruby-ivar">@files</span> )
177:                 <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">gen_into</span>( <span class="ruby-ivar">@classes</span> )
178: 
179:                 <span class="ruby-comment cmt"># Make a hash of class info keyed by class name</span>
180:                 <span class="ruby-identifier">classes_by_classname</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">inject</span>({}) {<span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">classinfo</span><span class="ruby-operator">|</span>
181:                         <span class="ruby-identifier">hash</span>[ <span class="ruby-identifier">classinfo</span>[<span class="ruby-value">:full_name</span>] ] = <span class="ruby-identifier">classinfo</span>
182:                         <span class="ruby-identifier">hash</span>[ <span class="ruby-identifier">classinfo</span>[<span class="ruby-value">:full_name</span>] ][<span class="ruby-value">:outfile</span>] =
183:                                 <span class="ruby-identifier">classinfo</span>[<span class="ruby-value">:full_name</span>].<span class="ruby-identifier">gsub</span>( <span class="ruby-regexp re">/::/</span>, <span class="ruby-value str">'/'</span> ) <span class="ruby-operator">+</span> <span class="ruby-value str">'.html'</span>
184:                         <span class="ruby-identifier">hash</span>
185:                 }
186: 
187:                 <span class="ruby-comment cmt"># Make a hash of file info keyed by path</span>
188:                 <span class="ruby-identifier">files_by_path</span> = <span class="ruby-identifier">files</span>.<span class="ruby-identifier">inject</span>({}) {<span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">fileinfo</span><span class="ruby-operator">|</span>
189:                         <span class="ruby-identifier">hash</span>[ <span class="ruby-identifier">fileinfo</span>[<span class="ruby-value">:full_path</span>] ] = <span class="ruby-identifier">fileinfo</span>
190:                         <span class="ruby-identifier">hash</span>[ <span class="ruby-identifier">fileinfo</span>[<span class="ruby-value">:full_path</span>] ][<span class="ruby-value">:outfile</span>] = <span class="ruby-identifier">fileinfo</span>[<span class="ruby-value">:full_path</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">'.html'</span>
191:                         <span class="ruby-identifier">hash</span>
192:                 }
193: 
194:                 <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">write_style_sheet</span>
195:                 <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">generate_index</span>( <span class="ruby-identifier">options</span>, <span class="ruby-identifier">files_by_path</span>, <span class="ruby-identifier">classes_by_classname</span> )
196:                 <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">generate_class_files</span>( <span class="ruby-identifier">options</span>, <span class="ruby-identifier">files_by_path</span>, <span class="ruby-identifier">classes_by_classname</span> )
197:                 <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">generate_file_files</span>( <span class="ruby-identifier">options</span>, <span class="ruby-identifier">files_by_path</span>, <span class="ruby-identifier">classes_by_classname</span> )
198:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="write-style-sheet-method" class="method-detail ">
				<a name="method-i-write_style_sheet"></a>

				<div class="method-heading">
				
					<span class="method-name">write_style_sheet</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Copy over the stylesheet into the appropriate place in the output
directory.
</p>
					

					
					<div class="method-source-code"
						id="write-style-sheet-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 139</span>
139:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_style_sheet</span>
140:                 <span class="ruby-identifier">debug_msg</span> <span class="ruby-value str">&quot;Copying over static files&quot;</span>
141:                 <span class="ruby-identifier">staticfiles</span> = <span class="ruby-node">]rdoc.css js images]</span>
142:                 <span class="ruby-identifier">staticfiles</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
143:                         <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">cp_r</span>( <span class="ruby-ivar">@template_dir</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>, <span class="ruby-value str">'.'</span>, <span class="ruby-value">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">$DEBUG</span>, <span class="ruby-value">:noop</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">$dryrun</span> )
144:                 <span class="ruby-keyword kw">end</span>
145:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="protected-instance-method-details" class="method-section section">
			<h3 class="section-header">Protected Instance Methods</h3>

		
			<div id="generate-class-files-method" class="method-detail ">
				<a name="method-i-generate_class_files"></a>

				<div class="method-heading">
				
					<span class="method-name">generate_class_files</span><span
						class="method-args">( options, files, classes )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Generate a documentation file for each class present in the given hash of
<tt>classes</tt>.
</p>
					

					
					<div class="method-source-code"
						id="generate-class-files-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 267</span>
267:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_class_files</span>( <span class="ruby-identifier">options</span>, <span class="ruby-identifier">files</span>, <span class="ruby-identifier">classes</span> )
268:                 <span class="ruby-identifier">debug_msg</span> <span class="ruby-node">&quot;Generating class documentation in #@outputdir&quot;</span>
269:                 <span class="ruby-identifier">templatefile</span> = <span class="ruby-ivar">@template_dir</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'classpage.rhtml'</span>
270:                 <span class="ruby-identifier">outputdir</span> = <span class="ruby-ivar">@outputdir</span>
271: 
272:                 <span class="ruby-identifier">modsort</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_sorted_module_list</span>( <span class="ruby-identifier">classes</span> )
273: 
274:                 <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">sort_by</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span> }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">classname</span>, <span class="ruby-identifier">classinfo</span><span class="ruby-operator">|</span>
275:                         <span class="ruby-identifier">debug_msg</span> <span class="ruby-value str">&quot;  working on %s (%s)&quot;</span> <span class="ruby-operator">%</span> [ <span class="ruby-identifier">classname</span>, <span class="ruby-identifier">classinfo</span>[<span class="ruby-value">:outfile</span>] ]
276:                         <span class="ruby-identifier">outfile</span>    = <span class="ruby-identifier">outputdir</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">classinfo</span>[<span class="ruby-value">:outfile</span>]
277:                         <span class="ruby-identifier">rel_prefix</span> = <span class="ruby-identifier">outputdir</span>.<span class="ruby-identifier">relative_path_from</span>( <span class="ruby-identifier">outfile</span>.<span class="ruby-identifier">dirname</span> )
278:                         <span class="ruby-identifier">svninfo</span>    = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_svninfo</span>( <span class="ruby-identifier">classinfo</span> )
279: 
280:                         <span class="ruby-identifier">debug_msg</span> <span class="ruby-node">&quot;  rendering #{outfile}&quot;</span>
281:                         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">render_template</span>( <span class="ruby-identifier">templatefile</span>, <span class="ruby-identifier">binding</span>(), <span class="ruby-identifier">outfile</span> )
282:                 <span class="ruby-keyword kw">end</span>
283:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="generate-file-files-method" class="method-detail ">
				<a name="method-i-generate_file_files"></a>

				<div class="method-heading">
				
					<span class="method-name">generate_file_files</span><span
						class="method-args">( options, files, classes )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Generate a documentation file for each file present in the given hash of
<tt>files</tt>.
</p>
					

					
					<div class="method-source-code"
						id="generate-file-files-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 288</span>
288:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_file_files</span>( <span class="ruby-identifier">options</span>, <span class="ruby-identifier">files</span>, <span class="ruby-identifier">classes</span> )
289:                 <span class="ruby-identifier">debug_msg</span> <span class="ruby-node">&quot;Generating file documentation in #@outputdir&quot;</span>
290:                 <span class="ruby-identifier">templatefile</span> = <span class="ruby-ivar">@template_dir</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'filepage.rhtml'</span>
291: 
292:                 <span class="ruby-identifier">modsort</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_sorted_module_list</span>( <span class="ruby-identifier">classes</span> )
293: 
294:                 <span class="ruby-identifier">files</span>.<span class="ruby-identifier">sort_by</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span> }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">fileinfo</span><span class="ruby-operator">|</span>
295:                         <span class="ruby-identifier">outfile</span>     = <span class="ruby-ivar">@outputdir</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">fileinfo</span>[<span class="ruby-value">:outfile</span>]
296:                         <span class="ruby-identifier">debug_msg</span> <span class="ruby-value str">&quot;  working on %s (%s)&quot;</span> <span class="ruby-operator">%</span> [ <span class="ruby-identifier">path</span>, <span class="ruby-identifier">outfile</span> ]
297:                         <span class="ruby-identifier">rel_prefix</span>  = <span class="ruby-ivar">@outputdir</span>.<span class="ruby-identifier">relative_path_from</span>( <span class="ruby-identifier">outfile</span>.<span class="ruby-identifier">dirname</span> )
298:                         <span class="ruby-identifier">context</span>     = <span class="ruby-identifier">binding</span>()
299: 
300:                         <span class="ruby-identifier">debug_msg</span> <span class="ruby-node">&quot;  rendering #{outfile}&quot;</span>
301:                         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">render_template</span>( <span class="ruby-identifier">templatefile</span>, <span class="ruby-identifier">binding</span>(), <span class="ruby-identifier">outfile</span> )
302:                 <span class="ruby-keyword kw">end</span>
303:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="generate-index-method" class="method-detail ">
				<a name="method-i-generate_index"></a>

				<div class="method-heading">
				
					<span class="method-name">generate_index</span><span
						class="method-args">( options, files, classes )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Generate an index page which lists all the classes which are documented.
</p>
					

					
					<div class="method-source-code"
						id="generate-index-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 231</span>
231:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_index</span>( <span class="ruby-identifier">options</span>, <span class="ruby-identifier">files</span>, <span class="ruby-identifier">classes</span> )
232:                 <span class="ruby-identifier">debug_msg</span> <span class="ruby-value str">&quot;Rendering the index page...&quot;</span>
233: 
234:                 <span class="ruby-identifier">templatefile</span> = <span class="ruby-ivar">@template_dir</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'index.rhtml'</span>
235:                 <span class="ruby-identifier">template_src</span> = <span class="ruby-identifier">templatefile</span>.<span class="ruby-identifier">read</span>
236:                 <span class="ruby-identifier">template</span> = <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">template_src</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'&lt;&gt;'</span> )
237:                 <span class="ruby-identifier">template</span>.<span class="ruby-identifier">filename</span> = <span class="ruby-identifier">templatefile</span>.<span class="ruby-identifier">to_s</span>
238:                 <span class="ruby-identifier">context</span> = <span class="ruby-identifier">binding</span>()
239: 
240:                 <span class="ruby-identifier">modsort</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_sorted_module_list</span>( <span class="ruby-identifier">classes</span> )
241:                 <span class="ruby-identifier">output</span> = <span class="ruby-keyword kw">nil</span>
242:                 <span class="ruby-keyword kw">begin</span>
243:                         <span class="ruby-identifier">output</span> = <span class="ruby-identifier">template</span>.<span class="ruby-identifier">result</span>( <span class="ruby-identifier">context</span> )
244:                 <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NoMethodError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span>
245:                         <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;Error while evaluating %s: %s (at %p)&quot;</span> <span class="ruby-operator">%</span> [
246:                                 <span class="ruby-identifier">templatefile</span>,
247:                                 <span class="ruby-identifier">err</span>.<span class="ruby-identifier">message</span>,
248:                                 <span class="ruby-identifier">eval</span>( <span class="ruby-value str">&quot;_erbout[-50,50]&quot;</span>, <span class="ruby-identifier">context</span> )
249:                         ]
250:                 <span class="ruby-keyword kw">end</span>
251: 
252:                 <span class="ruby-identifier">outfile</span> = <span class="ruby-ivar">@basedir</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">op_dir</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'index.html'</span>
253:                 <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">$dryrun</span>
254:                         <span class="ruby-identifier">debug_msg</span> <span class="ruby-value str">&quot;Outputting to %s&quot;</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">outfile</span>.<span class="ruby-identifier">expand_path</span>]
255:                         <span class="ruby-identifier">outfile</span>.<span class="ruby-identifier">open</span>( <span class="ruby-value str">'w'</span>, <span class="ruby-value">0644</span> ) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">fh</span><span class="ruby-operator">|</span>
256:                                 <span class="ruby-identifier">fh</span>.<span class="ruby-identifier">print</span>( <span class="ruby-identifier">output</span> )
257:                         <span class="ruby-keyword kw">end</span>
258:                 <span class="ruby-keyword kw">else</span>
259:                         <span class="ruby-identifier">debug_msg</span> <span class="ruby-value str">&quot;Would have output to %s&quot;</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">outfile</span>.<span class="ruby-identifier">expand_path</span>]
260:                 <span class="ruby-keyword kw">end</span>
261:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="get-sorted-module-list-method" class="method-detail ">
				<a name="method-i-get_sorted_module_list"></a>

				<div class="method-heading">
				
					<span class="method-name">get_sorted_module_list</span><span
						class="method-args">( classes )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return a list of the documented modules sorted by salience first, then by
name.
</p>
					

					
					<div class="method-source-code"
						id="get-sorted-module-list-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 207</span>
207:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_sorted_module_list</span>( <span class="ruby-identifier">classes</span> )
208:                 <span class="ruby-identifier">nscounts</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">counthash</span>, <span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
209:                         <span class="ruby-identifier">toplevel</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>( <span class="ruby-regexp re">/::.*/</span>, <span class="ruby-value str">''</span> )
210:                         <span class="ruby-identifier">counthash</span>[<span class="ruby-identifier">toplevel</span>] <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
211:                         <span class="ruby-identifier">counthash</span>[<span class="ruby-identifier">toplevel</span>] <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
212:                         
213:                         <span class="ruby-identifier">counthash</span>
214:                 <span class="ruby-keyword kw">end</span>
215: 
216:                 <span class="ruby-comment cmt"># Sort based on how often the toplevel namespace occurs, and then on the name </span>
217:                 <span class="ruby-comment cmt"># of the module -- this works for projects that put their stuff into a </span>
218:                 <span class="ruby-comment cmt"># namespace, of course, but doesn't hurt if they don't.</span>
219:                 <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort_by</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> 
220:                         <span class="ruby-identifier">toplevel</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>( <span class="ruby-regexp re">/::.*/</span>, <span class="ruby-value str">''</span> )
221:                         [
222:                                 <span class="ruby-identifier">nscounts</span>[ <span class="ruby-identifier">toplevel</span> ] * <span class="ruby-value">1</span>,
223:                                 <span class="ruby-identifier">name</span>
224:                         ]
225:                 <span class="ruby-keyword kw">end</span>
226:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="get-svninfo-method" class="method-detail ">
				<a name="method-i-get_svninfo"></a>

				<div class="method-heading">
				
					<span class="method-name">get_svninfo</span><span
						class="method-args">( classinfo )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Try to extract Subversion information out of the first constant whose value
looks like a subversion Id tag. If no matching constant is found, and empty
hash is returned.
</p>
					

					
					<div class="method-source-code"
						id="get-svninfo-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 336</span>
336:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_svninfo</span>( <span class="ruby-identifier">classinfo</span> )
337:                 <span class="ruby-keyword kw">return</span> {} <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">classinfo</span>[<span class="ruby-value">:sections</span>]
338:                 <span class="ruby-identifier">constants</span> = <span class="ruby-identifier">classinfo</span>[<span class="ruby-value">:sections</span>].<span class="ruby-identifier">first</span>[<span class="ruby-value">:constants</span>] <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">return</span> {}
339:         
340:                 <span class="ruby-identifier">constants</span>.<span class="ruby-identifier">find</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>[<span class="ruby-value">:value</span>] <span class="ruby-operator">=~</span> <span class="ruby-constant">SVNID_PATTERN</span> } <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">return</span> {}
341: 
342:                 <span class="ruby-identifier">filename</span>, <span class="ruby-identifier">rev</span>, <span class="ruby-identifier">date</span>, <span class="ruby-identifier">time</span>, <span class="ruby-identifier">committer</span> = <span class="ruby-identifier">$~</span>.<span class="ruby-identifier">captures</span>
343:                 <span class="ruby-identifier">commitdate</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>( <span class="ruby-identifier">date</span> <span class="ruby-operator">+</span> <span class="ruby-value str">' '</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">time</span> )
344:                 
345:                 <span class="ruby-keyword kw">return</span> {
346:                         <span class="ruby-value">:filename</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">filename</span>,
347:                         <span class="ruby-value">:rev</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">rev</span> ),
348:                         <span class="ruby-value">:commitdate</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">commitdate</span>,
349:                         <span class="ruby-value">:commitdelta</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">time_delta_string</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">commitdate</span>.<span class="ruby-identifier">to_i</span> ),
350:                         <span class="ruby-value">:committer</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">committer</span>,
351:                 }
352:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="render-template-method" class="method-detail ">
				<a name="method-i-render_template"></a>

				<div class="method-heading">
				
					<span class="method-name">render_template</span><span
						class="method-args">( templatefile, context, outfile )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Load and render the erb template in the given <tt>templatefile</tt> within
the specified  <tt>context</tt> (a Binding object) and write it out to
<tt>outfile</tt>. Both <tt>templatefile</tt> and  <tt>outfile</tt> should
be Pathname-like objects.
</p>
					

					
					<div class="method-source-code"
						id="render-template-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 358</span>
358:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_template</span>( <span class="ruby-identifier">templatefile</span>, <span class="ruby-identifier">context</span>, <span class="ruby-identifier">outfile</span> )
359:                 <span class="ruby-identifier">template_src</span> = <span class="ruby-identifier">templatefile</span>.<span class="ruby-identifier">read</span>
360:                 <span class="ruby-identifier">template</span> = <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">template_src</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'&lt;&gt;'</span> )
361:                 <span class="ruby-identifier">template</span>.<span class="ruby-identifier">filename</span> = <span class="ruby-identifier">templatefile</span>.<span class="ruby-identifier">to_s</span>
362: 
363:                 <span class="ruby-identifier">output</span> = <span class="ruby-keyword kw">begin</span>
364:                         <span class="ruby-identifier">template</span>.<span class="ruby-identifier">result</span>( <span class="ruby-identifier">context</span> )
365:                 <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NoMethodError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span>
366:                         <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;Error while evaluating %s: %s (at %p)&quot;</span> <span class="ruby-operator">%</span> [
367:                                 <span class="ruby-identifier">templatefile</span>.<span class="ruby-identifier">to_s</span>,
368:                                 <span class="ruby-identifier">err</span>.<span class="ruby-identifier">message</span>,
369:                                 <span class="ruby-identifier">eval</span>( <span class="ruby-value str">&quot;_erbout[-50,50]&quot;</span>, <span class="ruby-identifier">context</span> )
370:                         ]
371:                 <span class="ruby-keyword kw">end</span>
372: 
373:                 <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">$dryrun</span>
374:                         <span class="ruby-identifier">outfile</span>.<span class="ruby-identifier">dirname</span>.<span class="ruby-identifier">mkpath</span>
375:                         <span class="ruby-identifier">outfile</span>.<span class="ruby-identifier">open</span>( <span class="ruby-value str">'w'</span>, <span class="ruby-value">0644</span> ) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ofh</span><span class="ruby-operator">|</span>
376:                                 <span class="ruby-identifier">ofh</span>.<span class="ruby-identifier">print</span>( <span class="ruby-identifier">output</span> )
377:                         <span class="ruby-keyword kw">end</span>
378:                 <span class="ruby-keyword kw">else</span>
379:                         <span class="ruby-identifier">debug_msg</span> <span class="ruby-value str">&quot;  would have written %d bytes to %s&quot;</span> <span class="ruby-operator">%</span>
380:                         [ <span class="ruby-identifier">output</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">outfile</span> ]
381:                 <span class="ruby-keyword kw">end</span>
382:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="time-delta-string-method" class="method-detail ">
				<a name="method-i-time_delta_string"></a>

				<div class="method-heading">
				
					<span class="method-name">time_delta_string</span><span
						class="method-args">( seconds )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return a string describing the amount of time in the given number of
seconds in terms a human can understand easily.
</p>
					

					
					<div class="method-source-code"
						id="time-delta-string-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/generator/darkfish.rb, line 308</span>
308:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">time_delta_string</span>( <span class="ruby-identifier">seconds</span> )
309:                 <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'less than a minute'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">minute</span> 
310:                 <span class="ruby-keyword kw">return</span> (<span class="ruby-identifier">seconds</span> <span class="ruby-operator">/</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">minute</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">' minute'</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">seconds</span><span class="ruby-operator">/</span><span class="ruby-value">60</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-value str">''</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'s'</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">50</span>.<span class="ruby-identifier">minutes</span>
311:                 <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'about one hour'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">90</span>.<span class="ruby-identifier">minutes</span>
312:                 <span class="ruby-keyword kw">return</span> (<span class="ruby-identifier">seconds</span> <span class="ruby-operator">/</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">hour</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">' hours'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">18</span>.<span class="ruby-identifier">hours</span>
313:                 <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'one day'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>
314:                 <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'about one day'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">2</span>.<span class="ruby-identifier">days</span>
315:                 <span class="ruby-keyword kw">return</span> (<span class="ruby-identifier">seconds</span> <span class="ruby-operator">/</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">' days'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">week</span>
316:                 <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'about one week'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">2</span>.<span class="ruby-identifier">week</span>
317:                 <span class="ruby-keyword kw">return</span> (<span class="ruby-identifier">seconds</span> <span class="ruby-operator">/</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">week</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">' weeks'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">3</span>.<span class="ruby-identifier">months</span>
318:                 <span class="ruby-keyword kw">return</span> (<span class="ruby-identifier">seconds</span> <span class="ruby-operator">/</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">' months'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>
319:                 <span class="ruby-keyword kw">return</span> (<span class="ruby-identifier">seconds</span> <span class="ruby-operator">/</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">' years'</span>
320:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

