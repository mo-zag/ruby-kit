<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: RDoc::RI::Driver</title>

	<link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

	<script src="../../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../../lib/rdoc/ri/driver_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/rdoc/ri/driver.rb">lib/rdoc/ri/driver.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			
			<div id="namespace-list-section" class="section">
				<h3 class="section-header">Namespace</h3>
				<ul class="link-list">
					
					<li><span class="type">CLASS</span> <a href="Driver/Error.html">RDoc::RI::Driver::Error</a></li>
					
					<li><span class="type">CLASS</span> <a href="Driver/NotFoundError.html">RDoc::RI::Driver::NotFoundError</a></li>
					
					<li><span class="type">CLASS</span> <a href="Driver/OpenStructHash.html">RDoc::RI::Driver::OpenStructHash</a></li>
					
				</ul>
			</div>
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-default_options">::default_options</a></li>
					
					<li><a href="#method-c-new">::new</a></li>
					
					<li><a href="#method-c-process_args">::process_args</a></li>
					
					<li><a href="#method-c-run">::run</a></li>
					
					<li><a href="#method-i-cache_file_for">#cache_file_for</a></li>
					
					<li><a href="#method-i-cache_file_path">#cache_file_path</a></li>
					
					<li><a href="#method-i-class_cache">#class_cache</a></li>
					
					<li><a href="#method-i-class_cache_file_path">#class_cache_file_path</a></li>
					
					<li><a href="#method-i-create_cache_for">#create_cache_for</a></li>
					
					<li><a href="#method-i-create_class_cache">#create_class_cache</a></li>
					
					<li><a href="#method-i-display_class">#display_class</a></li>
					
					<li><a href="#method-i-display_method">#display_method</a></li>
					
					<li><a href="#method-i-display_name">#display_name</a></li>
					
					<li><a href="#method-i-expand_klass">#expand_klass</a></li>
					
					<li><a href="#method-i-interactive">#interactive</a></li>
					
					<li><a href="#method-i-load_cache_for">#load_cache_for</a></li>
					
					<li><a href="#method-i-lookup_ancestor">#lookup_ancestor</a></li>
					
					<li><a href="#method-i-lookup_method">#lookup_method</a></li>
					
					<li><a href="#method-i-map_dirs">#map_dirs</a></li>
					
					<li><a href="#method-i-parse_name">#parse_name</a></li>
					
					<li><a href="#method-i-populate_class_cache">#populate_class_cache</a></li>
					
					<li><a href="#method-i-read_yaml">#read_yaml</a></li>
					
					<li><a href="#method-i-run">#run</a></li>
					
					<li><a href="#method-i-select_methods">#select_methods</a></li>
					
					<li><a href="#method-i-write_cache">#write_cache</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../../History_txt.html">History.txt</a></li>
				
					<li class="file"><a href="../../Manifest_txt.html">Manifest.txt</a></li>
				
					<li class="file"><a href="../../README_txt.html">README.txt</a></li>
				
					<li class="file"><a href="../../RI_txt.html">RI.txt</a></li>
				
					<li class="file"><a href="../../test/test_ja_txt.html">test.ja.txt</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../../RDoc.html">RDoc</a></li>
				
					<li><a href="../../RDoc/Alias.html">RDoc::Alias</a></li>
				
					<li><a href="../../RDoc/AnonClass.html">RDoc::AnonClass</a></li>
				
					<li><a href="../../RDoc/AnyMethod.html">RDoc::AnyMethod</a></li>
				
					<li><a href="../../RDoc/Attr.html">RDoc::Attr</a></li>
				
					<li><a href="../../RDoc/Cache.html">RDoc::Cache</a></li>
				
					<li><a href="../../RDoc/ClassModule.html">RDoc::ClassModule</a></li>
				
					<li><a href="../../RDoc/CodeObject.html">RDoc::CodeObject</a></li>
				
					<li><a href="../../RDoc/Constant.html">RDoc::Constant</a></li>
				
					<li><a href="../../RDoc/Context.html">RDoc::Context</a></li>
				
					<li><a href="../../RDoc/Context/Section.html">RDoc::Context::Section</a></li>
				
					<li><a href="../../RDoc/DOT.html">RDoc::DOT</a></li>
				
					<li><a href="../../RDoc/DOT/Digraph.html">RDoc::DOT::Digraph</a></li>
				
					<li><a href="../../RDoc/DOT/Edge.html">RDoc::DOT::Edge</a></li>
				
					<li><a href="../../RDoc/DOT/Element.html">RDoc::DOT::Element</a></li>
				
					<li><a href="../../RDoc/DOT/Node.html">RDoc::DOT::Node</a></li>
				
					<li><a href="../../RDoc/DOT/Port.html">RDoc::DOT::Port</a></li>
				
					<li><a href="../../RDoc/DOT/SimpleElement.html">RDoc::DOT::SimpleElement</a></li>
				
					<li><a href="../../RDoc/DOT/Subgraph.html">RDoc::DOT::Subgraph</a></li>
				
					<li><a href="../../RDoc/Diagram.html">RDoc::Diagram</a></li>
				
					<li><a href="../../RDoc/Error.html">RDoc::Error</a></li>
				
					<li><a href="../../RDoc/Generator.html">RDoc::Generator</a></li>
				
					<li><a href="../../RDoc/Generator/AllReferences.html">RDoc::Generator::AllReferences</a></li>
				
					<li><a href="../../RDoc/Generator/Class.html">RDoc::Generator::Class</a></li>
				
					<li><a href="../../RDoc/Generator/Context.html">RDoc::Generator::Context</a></li>
				
					<li><a href="../../RDoc/Generator/Darkfish.html">RDoc::Generator::Darkfish</a></li>
				
					<li><a href="../../RDoc/Generator/File.html">RDoc::Generator::File</a></li>
				
					<li><a href="../../RDoc/Generator/HTML.html">RDoc::Generator::HTML</a></li>
				
					<li><a href="../../RDoc/Generator/HTML/Common.html">RDoc::Generator::HTML::Common</a></li>
				
					<li><a href="../../RDoc/Generator/HTML/HTML.html">RDoc::Generator::HTML::HTML</a></li>
				
					<li><a href="../../RDoc/Generator/HTMLInOne.html">RDoc::Generator::HTMLInOne</a></li>
				
					<li><a href="../../RDoc/Generator/MarkUp.html">RDoc::Generator::MarkUp</a></li>
				
					<li><a href="../../RDoc/Generator/Method.html">RDoc::Generator::Method</a></li>
				
					<li><a href="../../RDoc/Generator/RI.html">RDoc::Generator::RI</a></li>
				
					<li><a href="../../RDoc/Generator/XML.html">RDoc::Generator::XML</a></li>
				
					<li><a href="../../RDoc/GhostMethod.html">RDoc::GhostMethod</a></li>
				
					<li><a href="../../RDoc/Include.html">RDoc::Include</a></li>
				
					<li><a href="../../RDoc/Markup.html">RDoc::Markup</a></li>
				
					<li><a href="../../RDoc/Markup/AttrChanger.html">RDoc::Markup::AttrChanger</a></li>
				
					<li><a href="../../RDoc/Markup/AttrSpan.html">RDoc::Markup::AttrSpan</a></li>
				
					<li><a href="../../RDoc/Markup/Attribute.html">RDoc::Markup::Attribute</a></li>
				
					<li><a href="../../RDoc/Markup/AttributeManager.html">RDoc::Markup::AttributeManager</a></li>
				
					<li><a href="../../RDoc/Markup/BlankLine.html">RDoc::Markup::BlankLine</a></li>
				
					<li><a href="../../RDoc/Markup/Flow.html">RDoc::Markup::Flow</a></li>
				
					<li><a href="../../RDoc/Markup/Flow/LIST.html">RDoc::Markup::Flow::LIST</a></li>
				
					<li><a href="../../RDoc/Markup/Formatter.html">RDoc::Markup::Formatter</a></li>
				
					<li><a href="../../RDoc/Markup/Fragment.html">RDoc::Markup::Fragment</a></li>
				
					<li><a href="../../RDoc/Markup/Heading.html">RDoc::Markup::Heading</a></li>
				
					<li><a href="../../RDoc/Markup/Line.html">RDoc::Markup::Line</a></li>
				
					<li><a href="../../RDoc/Markup/LineCollection.html">RDoc::Markup::LineCollection</a></li>
				
					<li><a href="../../RDoc/Markup/Lines.html">RDoc::Markup::Lines</a></li>
				
					<li><a href="../../RDoc/Markup/ListBase.html">RDoc::Markup::ListBase</a></li>
				
					<li><a href="../../RDoc/Markup/ListEnd.html">RDoc::Markup::ListEnd</a></li>
				
					<li><a href="../../RDoc/Markup/ListItem.html">RDoc::Markup::ListItem</a></li>
				
					<li><a href="../../RDoc/Markup/ListStart.html">RDoc::Markup::ListStart</a></li>
				
					<li><a href="../../RDoc/Markup/Paragraph.html">RDoc::Markup::Paragraph</a></li>
				
					<li><a href="../../RDoc/Markup/PreProcess.html">RDoc::Markup::PreProcess</a></li>
				
					<li><a href="../../RDoc/Markup/Rule.html">RDoc::Markup::Rule</a></li>
				
					<li><a href="../../RDoc/Markup/Special.html">RDoc::Markup::Special</a></li>
				
					<li><a href="../../RDoc/Markup/ToFlow.html">RDoc::Markup::ToFlow</a></li>
				
					<li><a href="../../RDoc/Markup/ToHtml.html">RDoc::Markup::ToHtml</a></li>
				
					<li><a href="../../RDoc/Markup/ToHtmlCrossref.html">RDoc::Markup::ToHtmlCrossref</a></li>
				
					<li><a href="../../RDoc/Markup/ToLaTeX.html">RDoc::Markup::ToLaTeX</a></li>
				
					<li><a href="../../RDoc/Markup/ToTest.html">RDoc::Markup::ToTest</a></li>
				
					<li><a href="../../RDoc/Markup/ToTexInfo.html">RDoc::Markup::ToTexInfo</a></li>
				
					<li><a href="../../RDoc/Markup/Verbatim.html">RDoc::Markup::Verbatim</a></li>
				
					<li><a href="../../RDoc/MetaMethod.html">RDoc::MetaMethod</a></li>
				
					<li><a href="../../RDoc/NormalClass.html">RDoc::NormalClass</a></li>
				
					<li><a href="../../RDoc/NormalModule.html">RDoc::NormalModule</a></li>
				
					<li><a href="../../RDoc/Options.html">RDoc::Options</a></li>
				
					<li><a href="../../RDoc/Parser.html">RDoc::Parser</a></li>
				
					<li><a href="../../RDoc/Parser/C.html">RDoc::Parser::C</a></li>
				
					<li><a href="../../RDoc/Parser/F95.html">RDoc::Parser::F95</a></li>
				
					<li><a href="../../RDoc/Parser/F95/Fortran95Definition.html">RDoc::Parser::F95::Fortran95Definition</a></li>
				
					<li><a href="../../RDoc/Parser/F95/Token.html">RDoc::Parser::F95::Token</a></li>
				
					<li><a href="../../RDoc/Parser/PerlPOD.html">RDoc::Parser::PerlPOD</a></li>
				
					<li><a href="../../RDoc/Parser/Ruby.html">RDoc::Parser::Ruby</a></li>
				
					<li><a href="../../RDoc/Parser/Simple.html">RDoc::Parser::Simple</a></li>
				
					<li><a href="../../RDoc/RDoc.html">RDoc::RDoc</a></li>
				
					<li><a href="../../RDoc/RI.html">RDoc::RI</a></li>
				
					<li><a href="../../RDoc/RI/AliasName.html">RDoc::RI::AliasName</a></li>
				
					<li><a href="../../RDoc/RI/AnsiFormatter.html">RDoc::RI::AnsiFormatter</a></li>
				
					<li><a href="../../RDoc/RI/Attribute.html">RDoc::RI::Attribute</a></li>
				
					<li><a href="../../RDoc/RI/AttributeFormatter.html">RDoc::RI::AttributeFormatter</a></li>
				
					<li><a href="../../RDoc/RI/AttributeFormatter/AttributeString.html">RDoc::RI::AttributeFormatter::AttributeString</a></li>
				
					<li><a href="../../RDoc/RI/Cache.html">RDoc::RI::Cache</a></li>
				
					<li><a href="../../RDoc/RI/ClassDescription.html">RDoc::RI::ClassDescription</a></li>
				
					<li><a href="../../RDoc/RI/ClassEntry.html">RDoc::RI::ClassEntry</a></li>
				
					<li><a href="../../RDoc/RI/Constant.html">RDoc::RI::Constant</a></li>
				
					<li><a href="../../RDoc/RI/DefaultDisplay.html">RDoc::RI::DefaultDisplay</a></li>
				
					<li><a href="../../RDoc/RI/Description.html">RDoc::RI::Description</a></li>
				
					<li><a href="../../RDoc/RI/Display.html">RDoc::RI::Display</a></li>
				
					<li><a href="../../RDoc/RI/Driver.html">RDoc::RI::Driver</a></li>
				
					<li><a href="../../RDoc/RI/Driver/Error.html">RDoc::RI::Driver::Error</a></li>
				
					<li><a href="../../RDoc/RI/Driver/NotFoundError.html">RDoc::RI::Driver::NotFoundError</a></li>
				
					<li><a href="../../RDoc/RI/Driver/OpenStructHash.html">RDoc::RI::Driver::OpenStructHash</a></li>
				
					<li><a href="../../RDoc/RI/Error.html">RDoc::RI::Error</a></li>
				
					<li><a href="../../RDoc/RI/Formatter.html">RDoc::RI::Formatter</a></li>
				
					<li><a href="../../RDoc/RI/HtmlFormatter.html">RDoc::RI::HtmlFormatter</a></li>
				
					<li><a href="../../RDoc/RI/IncludedModule.html">RDoc::RI::IncludedModule</a></li>
				
					<li><a href="../../RDoc/RI/MethodDescription.html">RDoc::RI::MethodDescription</a></li>
				
					<li><a href="../../RDoc/RI/MethodEntry.html">RDoc::RI::MethodEntry</a></li>
				
					<li><a href="../../RDoc/RI/MethodSummary.html">RDoc::RI::MethodSummary</a></li>
				
					<li><a href="../../RDoc/RI/ModuleDescription.html">RDoc::RI::ModuleDescription</a></li>
				
					<li><a href="../../RDoc/RI/NameDescriptor.html">RDoc::RI::NameDescriptor</a></li>
				
					<li><a href="../../RDoc/RI/NamedThing.html">RDoc::RI::NamedThing</a></li>
				
					<li><a href="../../RDoc/RI/OverstrikeFormatter.html">RDoc::RI::OverstrikeFormatter</a></li>
				
					<li><a href="../../RDoc/RI/Reader.html">RDoc::RI::Reader</a></li>
				
					<li><a href="../../RDoc/RI/SimpleFormatter.html">RDoc::RI::SimpleFormatter</a></li>
				
					<li><a href="../../RDoc/RI/TopLevelEntry.html">RDoc::RI::TopLevelEntry</a></li>
				
					<li><a href="../../RDoc/RI/Writer.html">RDoc::RI::Writer</a></li>
				
					<li><a href="../../RDoc/Require.html">RDoc::Require</a></li>
				
					<li><a href="../../RDoc/RubyLex.html">RDoc::RubyLex</a></li>
				
					<li><a href="../../RDoc/RubyLex/BufferedReader.html">RDoc::RubyLex::BufferedReader</a></li>
				
					<li><a href="../../RDoc/RubyToken.html">RDoc::RubyToken</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkError.html">RDoc::RubyToken::TkError</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkId.html">RDoc::RubyToken::TkId</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkKW.html">RDoc::RubyToken::TkKW</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkNode.html">RDoc::RubyToken::TkNode</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkOPASGN.html">RDoc::RubyToken::TkOPASGN</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkOp.html">RDoc::RubyToken::TkOp</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkUnknownChar.html">RDoc::RubyToken::TkUnknownChar</a></li>
				
					<li><a href="../../RDoc/RubyToken/TkVal.html">RDoc::RubyToken::TkVal</a></li>
				
					<li><a href="../../RDoc/RubyToken/Token.html">RDoc::RubyToken::Token</a></li>
				
					<li><a href="../../RDoc/SingleClass.html">RDoc::SingleClass</a></li>
				
					<li><a href="../../RDoc/Stats.html">RDoc::Stats</a></li>
				
					<li><a href="../../RDoc/Stats/Normal.html">RDoc::Stats::Normal</a></li>
				
					<li><a href="../../RDoc/Stats/Quiet.html">RDoc::Stats::Quiet</a></li>
				
					<li><a href="../../RDoc/Stats/Verbose.html">RDoc::Stats::Verbose</a></li>
				
					<li><a href="../../RDoc/TokenStream.html">RDoc::TokenStream</a></li>
				
					<li><a href="../../RDoc/TopLevel.html">RDoc::TopLevel</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">RDoc::RI::Driver</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="default-options-method" class="method-detail ">
				<a name="method-c-default_options"></a>

				<div class="method-heading">
				
					<span class="method-name">default_options</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Default options for ri
</p>
					

					
					<div class="method-source-code"
						id="default-options-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 89</span>
 89:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_options</span>
 90:     <span class="ruby-identifier">options</span> = {}
 91:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_stdout</span>] = <span class="ruby-operator">!</span><span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">tty?</span>
 92:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:width</span>] = <span class="ruby-value">72</span>
 93:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:formatter</span>] = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatter</span>.<span class="ruby-identifier">for</span> <span class="ruby-value str">'plain'</span>
 94:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:interactive</span>] = <span class="ruby-keyword kw">false</span>
 95:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_cache</span>] = <span class="ruby-keyword kw">true</span>
 96: 
 97:     <span class="ruby-comment cmt"># By default all standard paths are used.</span>
 98:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_system</span>] = <span class="ruby-keyword kw">true</span>
 99:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_site</span>] = <span class="ruby-keyword kw">true</span>
100:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_home</span>] = <span class="ruby-keyword kw">true</span>
101:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_gems</span>] = <span class="ruby-keyword kw">true</span>
102:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:extra_doc_dirs</span>] = []
103: 
104:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">options</span>
105:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">(initial_options={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 318</span>
318:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">initial_options</span>={})
319:     <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">default_options</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">initial_options</span>)
320: 
321:     <span class="ruby-ivar">@names</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:names</span>]
322:     <span class="ruby-ivar">@class_cache_name</span> = <span class="ruby-value str">'classes'</span>
323: 
324:     <span class="ruby-ivar">@doc_dirs</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Paths</span>.<span class="ruby-identifier">path</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:use_system</span>],
325:                                      <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_site</span>],
326:                                      <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_home</span>],
327:                                      <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_gems</span>],
328:                                      <span class="ruby-identifier">options</span>[<span class="ruby-value">:extra_doc_dirs</span>])
329: 
330:     <span class="ruby-ivar">@homepath</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Paths</span>.<span class="ruby-identifier">raw_path</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>).<span class="ruby-identifier">first</span>
331:     <span class="ruby-ivar">@homepath</span> = <span class="ruby-ivar">@homepath</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\.rdoc/</span>, <span class="ruby-value str">'.ri'</span>)
332:     <span class="ruby-ivar">@sys_dir</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Paths</span>.<span class="ruby-identifier">raw_path</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">false</span>).<span class="ruby-identifier">first</span>
333:     <span class="ruby-ivar">@list_doc_dirs</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:list_doc_dirs</span>]
334: 
335:     <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span> <span class="ruby-identifier">cache_file_path</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span> <span class="ruby-identifier">cache_file_path</span>
336:     <span class="ruby-ivar">@cache_doc_dirs_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">cache_file_path</span>, <span class="ruby-value str">&quot;.doc_dirs&quot;</span>
337: 
338:     <span class="ruby-ivar">@use_cache</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_cache</span>]
339:     <span class="ruby-ivar">@class_cache</span> = <span class="ruby-keyword kw">nil</span>
340: 
341:     <span class="ruby-ivar">@interactive</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:interactive</span>]
342:     <span class="ruby-ivar">@display</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">DefaultDisplay</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:formatter</span>],
343:                                             <span class="ruby-identifier">options</span>[<span class="ruby-value">:width</span>],
344:                                             <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_stdout</span>])
345:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="process-args-method" class="method-detail ">
				<a name="method-c-process_args"></a>

				<div class="method-heading">
				
					<span class="method-name">process_args</span><span
						class="method-args">(argv)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Parses <tt>argv</tt> and returns a Hash of options
</p>
					

					
					<div class="method-source-code"
						id="process-args-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 110</span>
110:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">process_args</span>(<span class="ruby-identifier">argv</span>)
111:     <span class="ruby-identifier">options</span> = <span class="ruby-identifier">default_options</span>
112: 
113:     <span class="ruby-identifier">opts</span> = <span class="ruby-constant">OptionParser</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span>
114:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">program_name</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span> <span class="ruby-identifier">$0</span>
115:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">version</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>
116:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">release</span> = <span class="ruby-keyword kw">nil</span>
117:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">summary_indent</span> = <span class="ruby-value str">' '</span> * <span class="ruby-value">4</span>
118: 
119:       <span class="ruby-identifier">directories</span> = [
120:         <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Paths</span><span class="ruby-operator">::</span><span class="ruby-constant">SYSDIR</span>,
121:         <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Paths</span><span class="ruby-operator">::</span><span class="ruby-constant">SITEDIR</span>,
122:         <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Paths</span><span class="ruby-operator">::</span><span class="ruby-constant">HOMEDIR</span>
123:       ]
124: 
125:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Paths</span><span class="ruby-operator">::</span><span class="ruby-constant">GEMDIRS</span> <span class="ruby-keyword kw">then</span>
126:         <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
127:           <span class="ruby-identifier">directories</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{dir}/doc/*/ri&quot;</span>
128:         <span class="ruby-keyword kw">end</span>
129:       <span class="ruby-keyword kw">end</span>
130: 
131:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">banner</span> = <span class="ruby-value str">Usage: #{opt.program_name} [options] [names...]Where name can be:  Class | Class::method | Class#method | Class.method | methodAll class names may be abbreviated to their minimum unambiguous form. If a nameis ambiguous, all valid options will be listed.The form '.' method matches either class or instance methods, while #methodmatches only instance and ::method matches only class methods.For example:    #{opt.program_name} Fil    #{opt.program_name} File    #{opt.program_name} File.new    #{opt.program_name} zipNote that shell quoting may be required for method names containingpunctuation:    #{opt.program_name} 'Array.[]'    #{opt.program_name} compact\\!By default ri searches for documentation in the following directories:    #{directories.join &quot;\n    &quot;}Specifying the --system, --site, --home, --gems or --doc-dir options willlimit ri to searching only the specified directories.Options may also be set in the 'RI' environment variable.</span>
132: 
133:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
134:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-value str">&quot;Options:&quot;</span>
135:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
136: 
137:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--fmt=FORMAT&quot;</span>, <span class="ruby-value str">&quot;--format=FORMAT&quot;</span>, <span class="ruby-value str">&quot;-f&quot;</span>,
138:              <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatter</span><span class="ruby-operator">::</span><span class="ruby-constant">FORMATTERS</span>.<span class="ruby-identifier">keys</span>,
139:              <span class="ruby-value str">&quot;Format to use when displaying output:&quot;</span>,
140:              <span class="ruby-node">&quot;   #{RDoc::RI::Formatter.list}&quot;</span>,
141:              <span class="ruby-value str">&quot;Use 'bs' (backspace) with most pager&quot;</span>,
142:              <span class="ruby-value str">&quot;programs. To use ANSI, either disable the&quot;</span>,
143:              <span class="ruby-value str">&quot;pager or tell the pager to allow control&quot;</span>,
144:              <span class="ruby-value str">&quot;characters.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
145:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:formatter</span>] = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatter</span>.<span class="ruby-identifier">for</span> <span class="ruby-identifier">value</span>
146:       <span class="ruby-keyword kw">end</span>
147: 
148:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
149: 
150:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--doc-dir=DIRNAME&quot;</span>, <span class="ruby-value str">&quot;-d&quot;</span>, <span class="ruby-constant">Array</span>,
151:              <span class="ruby-value str">&quot;List of directories from which to source&quot;</span>,
152:              <span class="ruby-value str">&quot;documentation in addition to the standard&quot;</span>,
153:              <span class="ruby-value str">&quot;directories.  May be repeated.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
154:         <span class="ruby-identifier">value</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
155:           <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span> <span class="ruby-identifier">dir</span> <span class="ruby-keyword kw">then</span>
156:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidArgument</span>, <span class="ruby-node">&quot;#{dir} is not a directory&quot;</span>
157:           <span class="ruby-keyword kw">end</span>
158: 
159:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:extra_doc_dirs</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">dir</span>)
160:         <span class="ruby-keyword kw">end</span>
161:       <span class="ruby-keyword kw">end</span>
162: 
163:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
164: 
165:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]use-cache&quot;</span>,
166:              <span class="ruby-value str">&quot;Whether or not to use ri's cache.&quot;</span>,
167:              <span class="ruby-value str">&quot;True by default.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
168:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_cache</span>] = <span class="ruby-identifier">value</span>
169:       <span class="ruby-keyword kw">end</span>
170: 
171:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
172: 
173:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--no-standard-docs&quot;</span>,
174:              <span class="ruby-value str">&quot;Do not include documentation from&quot;</span>,
175:              <span class="ruby-value str">&quot;the Ruby standard library, site_lib,&quot;</span>,
176:              <span class="ruby-value str">&quot;installed gems, or ~/.rdoc.&quot;</span>,
177:              <span class="ruby-value str">&quot;Equivalent to specifying&quot;</span>,
178:              <span class="ruby-value str">&quot;the options --no-system, --no-site, --no-gems,&quot;</span>,
179:              <span class="ruby-value str">&quot;and --no-home&quot;</span>) <span class="ruby-keyword kw">do</span>
180:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_system</span>] = <span class="ruby-keyword kw">false</span>
181:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_site</span>] = <span class="ruby-keyword kw">false</span>
182:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_gems</span>] = <span class="ruby-keyword kw">false</span>
183:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_home</span>] = <span class="ruby-keyword kw">false</span>
184:       <span class="ruby-keyword kw">end</span>
185: 
186:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
187: 
188:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]system&quot;</span>,
189:              <span class="ruby-value str">&quot;Include documentation from Ruby's standard&quot;</span>,
190:              <span class="ruby-value str">&quot;library.  Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
191:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_system</span>] = <span class="ruby-identifier">value</span>
192:       <span class="ruby-keyword kw">end</span>
193: 
194:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
195: 
196:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]site&quot;</span>,
197:              <span class="ruby-value str">&quot;Include documentation from libraries&quot;</span>,
198:              <span class="ruby-value str">&quot;installed in site_lib.&quot;</span>,
199:              <span class="ruby-value str">&quot;Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
200:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_site</span>] = <span class="ruby-identifier">value</span>
201:       <span class="ruby-keyword kw">end</span>
202: 
203:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
204: 
205:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]gems&quot;</span>,
206:              <span class="ruby-value str">&quot;Include documentation from RubyGems.&quot;</span>,
207:              <span class="ruby-value str">&quot;Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
208:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_gems</span>] = <span class="ruby-identifier">value</span>
209:       <span class="ruby-keyword kw">end</span>
210: 
211:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
212: 
213:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]home&quot;</span>,
214:              <span class="ruby-value str">&quot;Include documentation stored in ~/.rdoc.&quot;</span>,
215:              <span class="ruby-value str">&quot;Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
216:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_home</span>] = <span class="ruby-identifier">value</span>
217:       <span class="ruby-keyword kw">end</span>
218: 
219:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
220: 
221:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--list-doc-dirs&quot;</span>,
222:              <span class="ruby-value str">&quot;List the directories from which ri will&quot;</span>,
223:              <span class="ruby-value str">&quot;source documentation on stdout and exit.&quot;</span>) <span class="ruby-keyword kw">do</span>
224:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:list_doc_dirs</span>] = <span class="ruby-keyword kw">true</span>
225:       <span class="ruby-keyword kw">end</span>
226: 
227:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
228: 
229:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--no-pager&quot;</span>, <span class="ruby-value str">&quot;-T&quot;</span>,
230:              <span class="ruby-value str">&quot;Send output directly to stdout,&quot;</span>,
231:              <span class="ruby-value str">&quot;rather than to a pager.&quot;</span>) <span class="ruby-keyword kw">do</span>
232:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_stdout</span>] = <span class="ruby-keyword kw">true</span>
233:       <span class="ruby-keyword kw">end</span>
234: 
235:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--interactive&quot;</span>, <span class="ruby-value str">&quot;-i&quot;</span>,
236:              <span class="ruby-value str">&quot;This makes ri go into interactive mode.&quot;</span>,
237:              <span class="ruby-value str">&quot;When ri is in interactive mode it will&quot;</span>,
238:              <span class="ruby-value str">&quot;allow the user to disambiguate lists of&quot;</span>,
239:              <span class="ruby-value str">&quot;methods in case multiple methods match&quot;</span>,
240:              <span class="ruby-value str">&quot;against a method search string.  It also&quot;</span>,
241:              <span class="ruby-value str">&quot;will allow the user to enter in a method&quot;</span>,
242:              <span class="ruby-value str">&quot;name (with auto-completion, if readline&quot;</span>,
243:              <span class="ruby-value str">&quot;is supported) when viewing a class.&quot;</span>) <span class="ruby-keyword kw">do</span>
244:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:interactive</span>] = <span class="ruby-keyword kw">true</span>
245:       <span class="ruby-keyword kw">end</span>
246: 
247:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
248: 
249:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--width=WIDTH&quot;</span>, <span class="ruby-value str">&quot;-w&quot;</span>, <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">DecimalInteger</span>,
250:              <span class="ruby-value str">&quot;Set the width of the output.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
251:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:width</span>] = <span class="ruby-identifier">value</span>
252:       <span class="ruby-keyword kw">end</span>
253:     <span class="ruby-keyword kw">end</span>
254: 
255:     <span class="ruby-identifier">argv</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'RI'</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">argv</span>
256: 
257:     <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">parse!</span> <span class="ruby-identifier">argv</span>
258: 
259:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:names</span>] = <span class="ruby-identifier">argv</span>
260: 
261:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:formatter</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatter</span>.<span class="ruby-identifier">for</span>(<span class="ruby-value str">'plain'</span>)
262:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_stdout</span>] <span class="ruby-operator">||=</span> <span class="ruby-operator">!</span><span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">tty?</span>
263:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:use_stdout</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:interactive</span>]
264:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:width</span>] <span class="ruby-operator">||=</span> <span class="ruby-value">72</span>
265: 
266:     <span class="ruby-identifier">options</span>
267: 
268:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidArgument</span>, <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidOption</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
269:     <span class="ruby-identifier">puts</span> <span class="ruby-identifier">opts</span>
270:     <span class="ruby-identifier">puts</span>
271:     <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>
272:     <span class="ruby-identifier">exit</span> <span class="ruby-value">1</span>
273:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="run-method" class="method-detail ">
				<a name="method-c-run"></a>

				<div class="method-heading">
				
					<span class="method-name">run</span><span
						class="method-args">(argv = ARGV)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Runs the ri command line executable using <tt>argv</tt>
</p>
					

					
					<div class="method-source-code"
						id="run-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 312</span>
312:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">run</span>(<span class="ruby-identifier">argv</span> = <span class="ruby-constant">ARGV</span>)
313:     <span class="ruby-identifier">options</span> = <span class="ruby-identifier">process_args</span> <span class="ruby-identifier">argv</span>
314:     <span class="ruby-identifier">ri</span> = <span class="ruby-identifier">new</span> <span class="ruby-identifier">options</span>
315:     <span class="ruby-identifier">ri</span>.<span class="ruby-identifier">run</span>
316:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="cache-file-for-method" class="method-detail ">
				<a name="method-i-cache_file_for"></a>

				<div class="method-heading">
				
					<span class="method-name">cache_file_for</span><span
						class="method-args">(klassname)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Path to the cache file for <tt>klassname</tt>
</p>
					

					
					<div class="method-source-code"
						id="cache-file-for-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 458</span>
458:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cache_file_for</span>(<span class="ruby-identifier">klassname</span>)
459:     <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">cache_file_path</span>, <span class="ruby-identifier">klassname</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/:+/</span>, <span class="ruby-value str">&quot;-&quot;</span>)
460:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="cache-file-path-method" class="method-detail ">
				<a name="method-i-cache_file_path"></a>

				<div class="method-heading">
				
					<span class="method-name">cache_file_path</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Directory where cache files live
</p>
					

					
					<div class="method-source-code"
						id="cache-file-path-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 465</span>
465:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cache_file_path</span>
466:     <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-ivar">@homepath</span>, <span class="ruby-value str">'cache'</span>
467:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="class-cache-method" class="method-detail ">
				<a name="method-i-class_cache"></a>

				<div class="method-heading">
				
					<span class="method-name">class_cache</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
<a href="Cache.html">Cache</a> of classes ri knows about
</p>
					

					
					<div class="method-source-code"
						id="class-cache-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 350</span>
350:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_cache</span>
351:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@class_cache</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@class_cache</span>
352: 
353:     <span class="ruby-comment cmt"># Get the documentation directories used to make the cache in order to see</span>
354:     <span class="ruby-comment cmt"># whether the cache is valid for the current ri instantiation.</span>
355:     <span class="ruby-keyword kw">if</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">readable?</span>(<span class="ruby-ivar">@cache_doc_dirs_path</span>))
356:       <span class="ruby-identifier">cache_doc_dirs</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">read</span>(<span class="ruby-ivar">@cache_doc_dirs_path</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
357:     <span class="ruby-keyword kw">else</span>
358:       <span class="ruby-identifier">cache_doc_dirs</span> = []
359:     <span class="ruby-keyword kw">end</span>
360: 
361:     <span class="ruby-identifier">newest</span> = <span class="ruby-identifier">map_dirs</span>(<span class="ruby-value str">'created.rid'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
362:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span> <span class="ruby-identifier">f</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">test</span> <span class="ruby-value">ff</span>, <span class="ruby-identifier">f</span>
363:     <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">max</span>
364: 
365:     <span class="ruby-comment cmt"># An up to date cache file must have been created more recently than</span>
366:     <span class="ruby-comment cmt"># the last modification of any of the documentation directories.  It also</span>
367:     <span class="ruby-comment cmt"># must have been created with the same documentation directories</span>
368:     <span class="ruby-comment cmt"># as those from which ri currently is sourcing documentation.</span>
369:     <span class="ruby-identifier">up_to_date</span> = (<span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">class_cache_file_path</span>) <span class="ruby-keyword kw">and</span>
370:                   <span class="ruby-identifier">newest</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">newest</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">class_cache_file_path</span>) <span class="ruby-keyword kw">and</span>
371:                   (<span class="ruby-identifier">cache_doc_dirs</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@doc_dirs</span>))
372: 
373:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">up_to_date</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@use_cache</span> <span class="ruby-keyword kw">then</span>
374:       <span class="ruby-identifier">open</span> <span class="ruby-identifier">class_cache_file_path</span>, <span class="ruby-value str">'rb'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">fp</span><span class="ruby-operator">|</span>
375:         <span class="ruby-keyword kw">begin</span>
376:           <span class="ruby-ivar">@class_cache</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span> <span class="ruby-identifier">fp</span>.<span class="ruby-identifier">read</span>
377:         <span class="ruby-keyword kw">rescue</span>
378:           <span class="ruby-comment cmt">#</span>
379:           <span class="ruby-comment cmt"># This shouldn't be necessary, since the up_to_date logic above</span>
380:           <span class="ruby-comment cmt"># should force the cache to be recreated when a new version of</span>
381:           <span class="ruby-comment cmt"># rdoc is installed.  This seems like a worthwhile enhancement</span>
382:           <span class="ruby-comment cmt"># to ri's robustness, however.</span>
383:           <span class="ruby-comment cmt">#</span>
384:           <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Error reading the class cache; recreating the class cache!&quot;</span>
385:           <span class="ruby-ivar">@class_cache</span> = <span class="ruby-identifier">create_class_cache</span>
386:         <span class="ruby-keyword kw">end</span>
387:       <span class="ruby-keyword kw">end</span>
388:     <span class="ruby-keyword kw">else</span>
389:       <span class="ruby-ivar">@class_cache</span> = <span class="ruby-identifier">create_class_cache</span>
390:     <span class="ruby-keyword kw">end</span>
391: 
392:     <span class="ruby-ivar">@class_cache</span>
393:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="class-cache-file-path-method" class="method-detail ">
				<a name="method-i-class_cache_file_path"></a>

				<div class="method-heading">
				
					<span class="method-name">class_cache_file_path</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Path to the <a href="Driver.html#method-i-class_cache">class_cache</a>
</p>
					

					
					<div class="method-source-code"
						id="class-cache-file-path-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 451</span>
451:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_cache_file_path</span>
452:     <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">cache_file_path</span>, <span class="ruby-ivar">@class_cache_name</span>
453:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="create-cache-for-method" class="method-detail ">
				<a name="method-i-create_cache_for"></a>

				<div class="method-heading">
				
					<span class="method-name">create_cache_for</span><span
						class="method-args">(klassname, path)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Writes a cache file for <tt>klassname</tt> to <tt>path</tt>
</p>
					

					
					<div class="method-source-code"
						id="create-cache-for-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 658</span>
658:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_cache_for</span>(<span class="ruby-identifier">klassname</span>, <span class="ruby-identifier">path</span>)
659:     <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">class_cache</span>[<span class="ruby-identifier">klassname</span>]
660:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">klass</span>
661: 
662:     <span class="ruby-identifier">method_files</span> = <span class="ruby-identifier">klass</span>[<span class="ruby-value str">&quot;sources&quot;</span>]
663:     <span class="ruby-identifier">cache</span> = <span class="ruby-constant">OpenStructHash</span>.<span class="ruby-identifier">new</span>
664: 
665:     <span class="ruby-identifier">method_files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
666:       <span class="ruby-identifier">system_file</span> = <span class="ruby-identifier">f</span>.<span class="ruby-identifier">index</span>(<span class="ruby-ivar">@sys_dir</span>) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
667:       <span class="ruby-constant">Dir</span>[<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">f</span>), <span class="ruby-value str">&quot;*&quot;</span>)].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">yaml</span><span class="ruby-operator">|</span>
668:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">yaml</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/yaml$/</span>
669:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">yaml</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/cdesc-[^\/]+yaml$/</span>
670: 
671:         <span class="ruby-identifier">method</span> = <span class="ruby-identifier">read_yaml</span> <span class="ruby-identifier">yaml</span>
672: 
673:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">system_file</span> <span class="ruby-keyword kw">then</span>
674:           <span class="ruby-identifier">method</span>[<span class="ruby-value str">&quot;source_path&quot;</span>] = <span class="ruby-node">&quot;Ruby #{RDoc::RI::Paths::VERSION}&quot;</span>
675:         <span class="ruby-keyword kw">else</span>
676:           <span class="ruby-identifier">gem</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">any?</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
677:             <span class="ruby-identifier">pattern</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">path</span>), <span class="ruby-value str">'doc'</span>, <span class="ruby-value str">'(.*?)'</span>, <span class="ruby-value str">''</span>
678: 
679:             <span class="ruby-identifier">f</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/^#{pattern}/</span>
680:           <span class="ruby-keyword kw">end</span>
681: 
682:           <span class="ruby-identifier">method</span>[<span class="ruby-value str">&quot;source_path&quot;</span>] = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">gem</span> <span class="ruby-keyword kw">then</span>
683:                                     <span class="ruby-node">&quot;gem #{$1}&quot;</span>
684:                                   <span class="ruby-keyword kw">else</span>
685:                                     <span class="ruby-identifier">f</span>
686:                                   <span class="ruby-keyword kw">end</span>
687:         <span class="ruby-keyword kw">end</span>
688: 
689:         <span class="ruby-identifier">name</span> = <span class="ruby-identifier">method</span>[<span class="ruby-value str">&quot;full_name&quot;</span>]
690:         <span class="ruby-identifier">cache</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">method</span>
691:       <span class="ruby-keyword kw">end</span>
692:     <span class="ruby-keyword kw">end</span>
693: 
694:     <span class="ruby-identifier">write_cache</span> <span class="ruby-identifier">cache</span>, <span class="ruby-identifier">path</span>
695:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="create-class-cache-method" class="method-detail ">
				<a name="method-i-create_class_cache"></a>

				<div class="method-heading">
				
					<span class="method-name">create_class_cache</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Creates the class cache if it is empty
</p>
					

					
					<div class="method-source-code"
						id="create-class-cache-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 398</span>
398:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_class_cache</span>
399:     <span class="ruby-identifier">class_cache</span> = <span class="ruby-constant">OpenStructHash</span>.<span class="ruby-identifier">new</span>
400: 
401:     <span class="ruby-keyword kw">if</span>(<span class="ruby-ivar">@use_cache</span>)
402:       <span class="ruby-comment cmt"># Dump the documentation directories to a file in the cache, so that</span>
403:       <span class="ruby-comment cmt"># we only will use the cache for future instantiations with identical</span>
404:       <span class="ruby-comment cmt"># documentation directories.</span>
405:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-ivar">@cache_doc_dirs_path</span>, <span class="ruby-value str">&quot;wb&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">fp</span><span class="ruby-operator">|</span>
406:         <span class="ruby-identifier">fp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@doc_dirs</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
407:       <span class="ruby-keyword kw">end</span>
408:     <span class="ruby-keyword kw">end</span>
409: 
410:     <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">map_dirs</span>(<span class="ruby-value str">'**/cdesc*.yaml'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-constant">Dir</span>[<span class="ruby-identifier">f</span>] }
411:     <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;Updating ri class cache with #{classes.size} classes...&quot;</span>
412:     <span class="ruby-identifier">populate_class_cache</span> <span class="ruby-identifier">class_cache</span>, <span class="ruby-identifier">classes</span>
413: 
414:     <span class="ruby-identifier">write_cache</span> <span class="ruby-identifier">class_cache</span>, <span class="ruby-identifier">class_cache_file_path</span>
415: 
416:     <span class="ruby-identifier">class_cache</span>
417:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="display-class-method" class="method-detail ">
				<a name="method-i-display_class"></a>

				<div class="method-heading">
				
					<span class="method-name">display_class</span><span
						class="method-args">(name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Displays info for class or module <tt>name</tt>
</p>
					

					
					<div class="method-source-code"
						id="display-class-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 517</span>
517:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_class</span>(<span class="ruby-identifier">name</span>)
518:     <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">class_cache</span>[<span class="ruby-identifier">name</span>]
519:     <span class="ruby-ivar">@display</span>.<span class="ruby-identifier">display_class_info</span> <span class="ruby-identifier">klass</span>
520:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="display-method-method" class="method-detail ">
				<a name="method-i-display_method"></a>

				<div class="method-heading">
				
					<span class="method-name">display_method</span><span
						class="method-args">(method)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Displays info for method <tt>method</tt>
</p>
					

					
					<div class="method-source-code"
						id="display-method-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 525</span>
525:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_method</span>(<span class="ruby-identifier">method</span>)
526:     <span class="ruby-ivar">@display</span>.<span class="ruby-identifier">display_method_info</span> <span class="ruby-identifier">method</span>
527:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="display-name-method" class="method-detail ">
				<a name="method-i-display_name"></a>

				<div class="method-heading">
				
					<span class="method-name">display_name</span><span
						class="method-args">(name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Displays the module, class or method <tt>name</tt>.  For methods, locates
the method in the ancestors list if it isn&#8217;t in the named module.
</p>
					

					
					<div class="method-source-code"
						id="display-name-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 473</span>
473:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_name</span>(<span class="ruby-identifier">name</span>)
474:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">class_cache</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">then</span>
475:       <span class="ruby-identifier">method_map</span> = <span class="ruby-identifier">display_class</span> <span class="ruby-identifier">name</span>
476:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/::|\#|\./</span> <span class="ruby-keyword kw">then</span>
477:       <span class="ruby-identifier">method</span> = <span class="ruby-keyword kw">nil</span>
478:       <span class="ruby-identifier">klass</span>, = <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
479: 
480:       <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">expand_klass</span> <span class="ruby-identifier">klass</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">class_cache</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">klass</span>
481: 
482:       <span class="ruby-identifier">orig_klass</span> = <span class="ruby-identifier">klass</span>
483:       <span class="ruby-identifier">orig_name</span> = <span class="ruby-identifier">name</span>
484: 
485:       <span class="ruby-identifier">loop</span> <span class="ruby-keyword kw">do</span>
486:         <span class="ruby-identifier">method</span> = <span class="ruby-identifier">lookup_method</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">klass</span>
487: 
488:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method</span>
489: 
490:         <span class="ruby-identifier">ancestor</span> = <span class="ruby-identifier">lookup_ancestor</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">orig_klass</span>
491: 
492:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ancestor</span>
493: 
494:         <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">sub</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">ancestor</span>
495:         <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">ancestor</span>
496:       <span class="ruby-keyword kw">end</span>
497: 
498:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotFoundError</span>, <span class="ruby-identifier">orig_name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">method</span>
499: 
500:       <span class="ruby-identifier">display_method</span> <span class="ruby-identifier">method</span>
501:     <span class="ruby-keyword kw">else</span>
502:       <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">select_methods</span>(<span class="ruby-node">/#{name}/</span>)
503: 
504:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
505:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotFoundError</span>, <span class="ruby-identifier">name</span>
506:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
507:         <span class="ruby-identifier">display_method</span> <span class="ruby-identifier">methods</span>[<span class="ruby-value">0</span>]
508:       <span class="ruby-keyword kw">else</span>
509:         <span class="ruby-ivar">@display</span>.<span class="ruby-identifier">display_method_list</span> <span class="ruby-identifier">methods</span>
510:       <span class="ruby-keyword kw">end</span>
511:     <span class="ruby-keyword kw">end</span>
512:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="expand-klass-method" class="method-detail ">
				<a name="method-i-expand_klass"></a>

				<div class="method-heading">
				
					<span class="method-name">expand_klass</span><span
						class="method-args">(klass)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Expands abbreviated klass <tt>klass</tt> into a fully-qualified klass. 
&#8220;Zl::Da&#8221; will be expanded to Zlib::DataError.
</p>
					

					
					<div class="method-source-code"
						id="expand-klass-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 607</span>
607:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand_klass</span>(<span class="ruby-identifier">klass</span>)
608:     <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'::'</span>).<span class="ruby-identifier">inject</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">expanded</span>, <span class="ruby-identifier">klass_part</span><span class="ruby-operator">|</span>
609:       <span class="ruby-identifier">expanded</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'::'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">expanded</span>.<span class="ruby-identifier">empty?</span>
610:       <span class="ruby-identifier">expanded</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass_part</span>
611: 
612:       <span class="ruby-identifier">subset</span> = <span class="ruby-identifier">class_cache</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span>
613:         <span class="ruby-identifier">klass</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/^#{expanded}[^:]*$/</span>
614:       <span class="ruby-keyword kw">end</span>
615: 
616:       <span class="ruby-identifier">abbrevs</span> = <span class="ruby-constant">Abbrev</span>.<span class="ruby-identifier">abbrev</span> <span class="ruby-identifier">subset</span>
617: 
618:       <span class="ruby-identifier">expanded</span> = <span class="ruby-identifier">abbrevs</span>[<span class="ruby-identifier">expanded</span>].<span class="ruby-identifier">dup</span>
619: 
620:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotFoundError</span>, <span class="ruby-identifier">expanded</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">expanded</span>
621: 
622:       <span class="ruby-identifier">expanded</span>
623:     <span class="ruby-keyword kw">end</span>
624:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="interactive-method" class="method-detail ">
				<a name="method-i-interactive"></a>

				<div class="method-heading">
				
					<span class="method-name">interactive</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Runs ri interactively using Readline if it is available.
</p>
					

					
					<div class="method-source-code"
						id="interactive-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 532</span>
532:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">interactive</span>
533:     <span class="ruby-identifier">formatter</span> = <span class="ruby-ivar">@display</span>.<span class="ruby-identifier">formatter</span>
534: 
535:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-constant">Readline</span> <span class="ruby-keyword kw">then</span>
536:       <span class="ruby-comment cmt"># prepare abbreviations for tab completion</span>
537:       <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">class_cache</span>.<span class="ruby-identifier">keys</span>
538: 
539:       <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_proc</span> = <span class="ruby-identifier">proc</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
540:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">name</span>
541:         <span class="ruby-keyword kw">when</span> <span class="ruby-node">/(#|\.|::)([^A-Z]|$)/</span> <span class="ruby-keyword kw">then</span>
542:           <span class="ruby-identifier">methods</span> = []
543:           <span class="ruby-identifier">method_type</span> = <span class="ruby-node">$1</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'.'</span> <span class="ruby-operator">?</span> <span class="ruby-value str">'#|::'</span> <span class="ruby-operator">:</span> <span class="ruby-node">$1</span>
544: 
545:           <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">method</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-node">$2</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
546:                             [<span class="ruby-node">$`</span>, <span class="ruby-value str">''</span>]
547:                           <span class="ruby-keyword kw">else</span>
548:                             <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
549:                           <span class="ruby-keyword kw">end</span>
550: 
551:           <span class="ruby-identifier">cache</span> = <span class="ruby-identifier">load_cache_for</span> <span class="ruby-identifier">klass</span>
552: 
553:           <span class="ruby-identifier">methods</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">cache</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
554:             <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/^#{klass}#{method_type}#{method}/</span>
555:           <span class="ruby-keyword kw">end</span>
556: 
557:           <span class="ruby-comment cmt"># TODO ancestor lookup</span>
558: 
559:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method_type</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'::'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
560:             <span class="ruby-identifier">methods</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{klass}::/</span>)
561:           <span class="ruby-keyword kw">end</span>
562: 
563:           <span class="ruby-identifier">methods</span>
564:         <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^[A-Z]\w*/</span> <span class="ruby-keyword kw">then</span>
565:           <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{name}/</span>)
566:         <span class="ruby-keyword kw">else</span>
567:           []
568:         <span class="ruby-keyword kw">end</span>
569:       <span class="ruby-keyword kw">end</span>
570:     <span class="ruby-keyword kw">end</span>
571: 
572:     <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">raw_print_line</span> <span class="ruby-value str">&quot;\nEnter the method name you want to look up.\n&quot;</span>
573: 
574:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-constant">Readline</span> <span class="ruby-keyword kw">then</span>
575:       <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">raw_print_line</span> <span class="ruby-value str">&quot;You can use tab to autocomplete.\n&quot;</span>
576:     <span class="ruby-keyword kw">end</span>
577: 
578:     <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">raw_print_line</span> <span class="ruby-value str">&quot;Enter a blank line to exit.\n\n&quot;</span>
579: 
580:     <span class="ruby-identifier">loop</span> <span class="ruby-keyword kw">do</span>
581:       <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-constant">Readline</span> <span class="ruby-keyword kw">then</span>
582:                <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span> <span class="ruby-value str">&quot;&gt;&gt; &quot;</span>
583:              <span class="ruby-keyword kw">else</span>
584:                <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">raw_print_line</span> <span class="ruby-value str">&quot;&gt;&gt; &quot;</span>
585:                <span class="ruby-identifier">$stdin</span>.<span class="ruby-identifier">gets</span>
586:              <span class="ruby-keyword kw">end</span>
587: 
588:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">empty?</span>
589: 
590:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">strip</span>
591: 
592:       <span class="ruby-keyword kw">begin</span>
593:         <span class="ruby-identifier">display_name</span> <span class="ruby-identifier">name</span>
594:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NotFoundError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
595:         <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">raw_print_line</span> <span class="ruby-node">&quot;#{e.message}\n&quot;</span>
596:       <span class="ruby-keyword kw">end</span>
597:     <span class="ruby-keyword kw">end</span>
598: 
599:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Interrupt</span>
600:     <span class="ruby-identifier">exit</span>
601:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="load-cache-for-method" class="method-detail ">
				<a name="method-i-load_cache_for"></a>

				<div class="method-heading">
				
					<span class="method-name">load_cache_for</span><span
						class="method-args">(klassname)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Loads the cache for <tt>klassname</tt>
</p>
					

					
					<div class="method-source-code"
						id="load-cache-for-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 629</span>
629:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_cache_for</span>(<span class="ruby-identifier">klassname</span>)
630:     <span class="ruby-identifier">path</span> = <span class="ruby-identifier">cache_file_for</span> <span class="ruby-identifier">klassname</span>
631: 
632:     <span class="ruby-identifier">cache</span> = <span class="ruby-keyword kw">nil</span>
633: 
634:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-identifier">path</span> <span class="ruby-keyword kw">and</span>
635:        <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">path</span>) <span class="ruby-operator">&gt;=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">class_cache_file_path</span>) <span class="ruby-keyword kw">and</span>
636:        <span class="ruby-ivar">@use_cache</span> <span class="ruby-keyword kw">then</span>
637:       <span class="ruby-identifier">open</span> <span class="ruby-identifier">path</span>, <span class="ruby-value str">'rb'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">fp</span><span class="ruby-operator">|</span>
638:         <span class="ruby-keyword kw">begin</span>
639:           <span class="ruby-identifier">cache</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span> <span class="ruby-identifier">fp</span>.<span class="ruby-identifier">read</span>
640:         <span class="ruby-keyword kw">rescue</span>
641:           <span class="ruby-comment cmt">#</span>
642:           <span class="ruby-comment cmt"># The cache somehow is bad.  Recreate the cache.</span>
643:           <span class="ruby-comment cmt">#</span>
644:           <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Error reading the cache for #{klassname}; recreating the cache!&quot;</span>
645:           <span class="ruby-identifier">cache</span> = <span class="ruby-identifier">create_cache_for</span> <span class="ruby-identifier">klassname</span>, <span class="ruby-identifier">path</span>
646:         <span class="ruby-keyword kw">end</span>
647:       <span class="ruby-keyword kw">end</span>
648:     <span class="ruby-keyword kw">else</span>
649:       <span class="ruby-identifier">cache</span> = <span class="ruby-identifier">create_cache_for</span> <span class="ruby-identifier">klassname</span>, <span class="ruby-identifier">path</span>
650:     <span class="ruby-keyword kw">end</span>
651: 
652:     <span class="ruby-identifier">cache</span>
653:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="lookup-ancestor-method" class="method-detail ">
				<a name="method-i-lookup_ancestor"></a>

				<div class="method-heading">
				
					<span class="method-name">lookup_ancestor</span><span
						class="method-args">(klass, orig_klass)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Finds the next ancestor of <tt>orig_klass</tt> after <tt>klass</tt>.
</p>
					

					
					<div class="method-source-code"
						id="lookup-ancestor-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 700</span>
700:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lookup_ancestor</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">orig_klass</span>)
701:     <span class="ruby-comment cmt"># This is a bit hacky, but ri will go into an infinite loop otherwise,</span>
702:     <span class="ruby-comment cmt"># since Object has an Object ancestor for some reason.  Depending on the</span>
703:     <span class="ruby-comment cmt"># documentation state, I've seen Kernel as an ancestor of Object and not</span>
704:     <span class="ruby-comment cmt"># as an ancestor of Object.</span>
705:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">orig_klass</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;Object&quot;</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">klass</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;Kernel&quot;</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">klass</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;Object&quot;</span>) <span class="ruby-keyword kw">then</span>
706:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
707:     <span class="ruby-keyword kw">end</span>
708: 
709:     <span class="ruby-identifier">cache</span> = <span class="ruby-identifier">class_cache</span>[<span class="ruby-identifier">orig_klass</span>]
710: 
711:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">cache</span>
712: 
713:     <span class="ruby-identifier">ancestors</span> = [<span class="ruby-identifier">orig_klass</span>]
714:     <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">push</span>(*<span class="ruby-identifier">cache</span>.<span class="ruby-identifier">includes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">inc</span><span class="ruby-operator">|</span> <span class="ruby-identifier">inc</span>[<span class="ruby-value str">'name'</span>] })
715:     <span class="ruby-identifier">ancestors</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">cache</span>.<span class="ruby-identifier">superclass</span>
716: 
717:     <span class="ruby-identifier">ancestor_index</span> = <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">index</span> <span class="ruby-identifier">klass</span>
718: 
719:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ancestor_index</span>
720:       <span class="ruby-identifier">ancestor</span> = <span class="ruby-identifier">ancestors</span>[<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">klass</span>) <span class="ruby-operator">+</span> <span class="ruby-value">1</span>]
721:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ancestor</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ancestor</span>
722:     <span class="ruby-keyword kw">end</span>
723: 
724:     <span class="ruby-identifier">lookup_ancestor</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">cache</span>.<span class="ruby-identifier">superclass</span>
725:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="lookup-method-method" class="method-detail ">
				<a name="method-i-lookup_method"></a>

				<div class="method-heading">
				
					<span class="method-name">lookup_method</span><span
						class="method-args">(name, klass)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Finds the method
</p>
					

					
					<div class="method-source-code"
						id="lookup-method-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 730</span>
730:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lookup_method</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">klass</span>)
731:     <span class="ruby-identifier">cache</span> = <span class="ruby-identifier">load_cache_for</span> <span class="ruby-identifier">klass</span>
732:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">cache</span>
733: 
734:     <span class="ruby-identifier">method</span> = <span class="ruby-identifier">cache</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">'.'</span>, <span class="ruby-value str">'#'</span>)]
735:     <span class="ruby-identifier">method</span> = <span class="ruby-identifier">cache</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">'.'</span>, <span class="ruby-value str">'::'</span>)] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">method</span>
736:     <span class="ruby-identifier">method</span>
737:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="map-dirs-method" class="method-detail ">
				<a name="method-i-map_dirs"></a>

				<div class="method-heading">
				
					<span class="method-name">map_dirs</span><span
						class="method-args">(file_name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="map-dirs-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 739</span>
739:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">map_dirs</span>(<span class="ruby-identifier">file_name</span>)
740:     <span class="ruby-ivar">@doc_dirs</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">file_name</span>) }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>
741:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="parse-name-method" class="method-detail ">
				<a name="method-i-parse_name"></a>

				<div class="method-heading">
				
					<span class="method-name">parse_name</span><span
						class="method-args">(name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Extract the class and method name parts from <tt>name</tt> like
Foo::Bar#baz
</p>
					

					
					<div class="method-source-code"
						id="parse-name-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 746</span>
746:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_name</span>(<span class="ruby-identifier">name</span>)
747:     <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/(::|\#|\.)/</span>)
748: 
749:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parts</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">!=</span> <span class="ruby-value str">'::'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/^[A-Z]/</span> <span class="ruby-keyword kw">then</span>
750:       <span class="ruby-identifier">meth</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
751:       <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
752:     <span class="ruby-keyword kw">end</span>
753: 
754:     <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">join</span>
755: 
756:     [<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">meth</span>]
757:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="populate-class-cache-method" class="method-detail ">
				<a name="method-i-populate_class_cache"></a>

				<div class="method-heading">
				
					<span class="method-name">populate_class_cache</span><span
						class="method-args">(class_cache, classes, extension = false)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Populates <tt><a
href="Driver.html#method-i-class_cache">class_cache</a></tt> with
<tt>classes</tt>, adding <tt>extension</tt> data for found methods when
asked
</p>
					

					
					<div class="method-source-code"
						id="populate-class-cache-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 423</span>
423:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">populate_class_cache</span>(<span class="ruby-identifier">class_cache</span>, <span class="ruby-identifier">classes</span>, <span class="ruby-identifier">extension</span> = <span class="ruby-keyword kw">false</span>)
424:     <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cdesc</span><span class="ruby-operator">|</span>
425:       <span class="ruby-identifier">desc</span> = <span class="ruby-identifier">read_yaml</span> <span class="ruby-identifier">cdesc</span>
426:       <span class="ruby-identifier">klassname</span> = <span class="ruby-identifier">desc</span>[<span class="ruby-value str">&quot;full_name&quot;</span>]
427: 
428:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">class_cache</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">klassname</span> <span class="ruby-keyword kw">then</span>
429:         <span class="ruby-identifier">desc</span>[<span class="ruby-value str">&quot;display_name&quot;</span>] = <span class="ruby-value str">&quot;Class&quot;</span>
430:         <span class="ruby-identifier">desc</span>[<span class="ruby-value str">&quot;sources&quot;</span>] = [<span class="ruby-identifier">cdesc</span>]
431:         <span class="ruby-identifier">desc</span>[<span class="ruby-value str">&quot;instance_method_extensions&quot;</span>] = []
432:         <span class="ruby-identifier">desc</span>[<span class="ruby-value str">&quot;class_method_extensions&quot;</span>] = []
433:         <span class="ruby-identifier">class_cache</span>[<span class="ruby-identifier">klassname</span>] = <span class="ruby-identifier">desc</span>
434:       <span class="ruby-keyword kw">else</span>
435:         <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">class_cache</span>[<span class="ruby-identifier">klassname</span>]
436: 
437:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">extension</span> <span class="ruby-keyword kw">then</span>
438:           <span class="ruby-identifier">desc</span>[<span class="ruby-value str">&quot;instance_method_extensions&quot;</span>] = <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;instance_methods&quot;</span>
439:           <span class="ruby-identifier">desc</span>[<span class="ruby-value str">&quot;class_method_extensions&quot;</span>] = <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;class_methods&quot;</span>
440:         <span class="ruby-keyword kw">end</span>
441: 
442:         <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">merge_enums</span> <span class="ruby-identifier">desc</span>
443:         <span class="ruby-identifier">klass</span>[<span class="ruby-value str">&quot;sources&quot;</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">cdesc</span>
444:       <span class="ruby-keyword kw">end</span>
445:     <span class="ruby-keyword kw">end</span>
446:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="read-yaml-method" class="method-detail ">
				<a name="method-i-read_yaml"></a>

				<div class="method-heading">
				
					<span class="method-name">read_yaml</span><span
						class="method-args">(path)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Reads ri YAML data from <tt>path</tt>, converting <a
href="../RDoc.html">RDoc</a> 1.x classes to <a href="../RDoc.html">RDoc</a>
2.x classes
</p>
					

					
					<div class="method-source-code"
						id="read-yaml-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 763</span>
763:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read_yaml</span>(<span class="ruby-identifier">path</span>)
764:     <span class="ruby-identifier">data</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span> <span class="ruby-identifier">path</span>
765: 
766:     <span class="ruby-comment cmt"># Necessary to be backward-compatible with documentation generated</span>
767:     <span class="ruby-comment cmt"># by earliar RDoc versions.</span>
768:     <span class="ruby-identifier">data</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/ \!ruby\/(object|struct):(RDoc::RI|RI).*/</span>, <span class="ruby-value str">''</span>)
769:     <span class="ruby-identifier">data</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/ \!ruby\/(object|struct):SM::(\S+)/</span>,
770:                      <span class="ruby-value str">' !ruby/\1:RDoc::Markup::\2'</span>)
771: 
772:     <span class="ruby-constant">OpenStructHash</span>.<span class="ruby-identifier">convert</span> <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">data</span>)
773:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="run-method" class="method-detail ">
				<a name="method-i-run"></a>

				<div class="method-heading">
				
					<span class="method-name">run</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Looks up and displays ri data according to the options given.
</p>
					

					
					<div class="method-source-code"
						id="run-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 778</span>
778:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>
779:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@list_doc_dirs</span> <span class="ruby-keyword kw">then</span>
780:       <span class="ruby-identifier">puts</span> <span class="ruby-ivar">@doc_dirs</span>
781:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@interactive</span> <span class="ruby-keyword kw">then</span>
782:       <span class="ruby-identifier">interactive</span>
783:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@names</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
784:       <span class="ruby-ivar">@display</span>.<span class="ruby-identifier">list_known_classes</span> <span class="ruby-identifier">class_cache</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort</span>
785:     <span class="ruby-keyword kw">else</span>
786:       <span class="ruby-ivar">@names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
787:         <span class="ruby-identifier">display_name</span> <span class="ruby-identifier">name</span>
788:       <span class="ruby-keyword kw">end</span>
789:     <span class="ruby-keyword kw">end</span>
790:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NotFoundError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
791:     <span class="ruby-identifier">abort</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
792:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="select-methods-method" class="method-detail ">
				<a name="method-i-select_methods"></a>

				<div class="method-heading">
				
					<span class="method-name">select_methods</span><span
						class="method-args">(pattern)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Selects methods matching <tt>pattern</tt> from all modules
</p>
					

					
					<div class="method-source-code"
						id="select-methods-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 797</span>
797:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select_methods</span>(<span class="ruby-identifier">pattern</span>)
798:     <span class="ruby-identifier">methods</span> = []
799:     <span class="ruby-identifier">class_cache</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span>
800:       <span class="ruby-identifier">class_cache</span>[<span class="ruby-identifier">klass</span>][<span class="ruby-value str">&quot;instance_methods&quot;</span>].<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span><span class="ruby-identifier">h</span>[<span class="ruby-value str">&quot;name&quot;</span>]}.<span class="ruby-identifier">grep</span>(<span class="ruby-identifier">pattern</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
801:         <span class="ruby-identifier">method</span> = <span class="ruby-identifier">load_cache_for</span>(<span class="ruby-identifier">klass</span>)[<span class="ruby-identifier">klass</span><span class="ruby-operator">+</span><span class="ruby-value str">'#'</span><span class="ruby-operator">+</span><span class="ruby-identifier">name</span>]
802:         <span class="ruby-identifier">methods</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">method</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method</span>
803:       <span class="ruby-keyword kw">end</span>
804:       <span class="ruby-identifier">class_cache</span>[<span class="ruby-identifier">klass</span>][<span class="ruby-value str">&quot;class_methods&quot;</span>].<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span><span class="ruby-identifier">h</span>[<span class="ruby-value str">&quot;name&quot;</span>]}.<span class="ruby-identifier">grep</span>(<span class="ruby-identifier">pattern</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
805:         <span class="ruby-identifier">method</span> = <span class="ruby-identifier">load_cache_for</span>(<span class="ruby-identifier">klass</span>)[<span class="ruby-identifier">klass</span><span class="ruby-operator">+</span><span class="ruby-value str">'::'</span><span class="ruby-operator">+</span><span class="ruby-identifier">name</span>]
806:         <span class="ruby-identifier">methods</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">method</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method</span>
807:       <span class="ruby-keyword kw">end</span>
808:     <span class="ruby-keyword kw">end</span>
809:     <span class="ruby-identifier">methods</span>
810:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="write-cache-method" class="method-detail ">
				<a name="method-i-write_cache"></a>

				<div class="method-heading">
				
					<span class="method-name">write_cache</span><span
						class="method-args">(cache, path)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Writes <tt>cache</tt> to <tt>path</tt>
</p>
					

					
					<div class="method-source-code"
						id="write-cache-source">
<pre>
     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 815</span>
815:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_cache</span>(<span class="ruby-identifier">cache</span>, <span class="ruby-identifier">path</span>)
816:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@use_cache</span> <span class="ruby-keyword kw">then</span>
817:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">path</span>, <span class="ruby-value str">&quot;wb&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cache_file</span><span class="ruby-operator">|</span>
818:         <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">dump</span> <span class="ruby-identifier">cache</span>, <span class="ruby-identifier">cache_file</span>
819:       <span class="ruby-keyword kw">end</span>
820:     <span class="ruby-keyword kw">end</span>
821: 
822:     <span class="ruby-identifier">cache</span>
823:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EISDIR</span> <span class="ruby-comment cmt"># HACK toplevel, replace with main</span>
824:     <span class="ruby-identifier">cache</span>
825:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

